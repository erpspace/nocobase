(self.webpackChunknocobase=self.webpackChunknocobase||[]).push([[8359],{82241:function(b){(function(D,v){b.exports=v()})(this,function(){return function(E){var D={};function v(h){if(D[h])return D[h].exports;var n=D[h]={i:h,l:!1,exports:{}};return E[h].call(n.exports,n,n.exports,v),n.l=!0,n.exports}return v.m=E,v.c=D,v.i=function(h){return h},v.d=function(h,n,e){v.o(h,n)||Object.defineProperty(h,n,{configurable:!1,enumerable:!0,get:e})},v.n=function(h){var n=h&&h.__esModule?function(){return h.default}:function(){return h};return v.d(n,"a",n),n},v.o=function(h,n){return Object.prototype.hasOwnProperty.call(h,n)},v.p="",v(v.s=26)}([function(E,D,v){"use strict";function h(){}h.QUALITY=1,h.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,h.DEFAULT_INCREMENTAL=!1,h.DEFAULT_ANIMATION_ON_LAYOUT=!0,h.DEFAULT_ANIMATION_DURING_LAYOUT=!1,h.DEFAULT_ANIMATION_PERIOD=50,h.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,h.DEFAULT_GRAPH_MARGIN=15,h.NODE_DIMENSIONS_INCLUDE_LABELS=!1,h.SIMPLE_NODE_SIZE=40,h.SIMPLE_NODE_HALF_SIZE=h.SIMPLE_NODE_SIZE/2,h.EMPTY_COMPOUND_NODE_SIZE=40,h.MIN_EDGE_LENGTH=1,h.WORLD_BOUNDARY=1e6,h.INITIAL_WORLD_BOUNDARY=h.WORLD_BOUNDARY/1e3,h.WORLD_CENTER_X=1200,h.WORLD_CENTER_Y=900,E.exports=h},function(E,D,v){"use strict";var h=v(2),n=v(8),e=v(9);function i(l,r,f){h.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=l,this.target=r}i.prototype=Object.create(h.prototype);for(var s in h)i[s]=h[s];i.prototype.getSource=function(){return this.source},i.prototype.getTarget=function(){return this.target},i.prototype.isInterGraph=function(){return this.isInterGraph},i.prototype.getLength=function(){return this.length},i.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},i.prototype.getBendpoints=function(){return this.bendpoints},i.prototype.getLca=function(){return this.lca},i.prototype.getSourceInLca=function(){return this.sourceInLca},i.prototype.getTargetInLca=function(){return this.targetInLca},i.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},i.prototype.getOtherEndInGraph=function(l,r){for(var f=this.getOtherEnd(l),t=r.getGraphManager().getRoot();;){if(f.getOwner()==r)return f;if(f.getOwner()==t)break;f=f.getOwner().getParent()}return null},i.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=n.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=e.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=e.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},i.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=e.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=e.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},E.exports=i},function(E,D,v){"use strict";function h(n){this.vGraphObject=n}E.exports=h},function(E,D,v){"use strict";var h=v(2),n=v(10),e=v(13),i=v(0),s=v(16),l=v(4);function r(t,o,a,u){a==null&&u==null&&(u=o),h.call(this,u),t.graphManager!=null&&(t=t.graphManager),this.estimatedSize=n.MIN_VALUE,this.inclusionTreeDepth=n.MAX_VALUE,this.vGraphObject=u,this.edges=[],this.graphManager=t,a!=null&&o!=null?this.rect=new e(o.x,o.y,a.width,a.height):this.rect=new e}r.prototype=Object.create(h.prototype);for(var f in h)r[f]=h[f];r.prototype.getEdges=function(){return this.edges},r.prototype.getChild=function(){return this.child},r.prototype.getOwner=function(){return this.owner},r.prototype.getWidth=function(){return this.rect.width},r.prototype.setWidth=function(t){this.rect.width=t},r.prototype.getHeight=function(){return this.rect.height},r.prototype.setHeight=function(t){this.rect.height=t},r.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},r.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},r.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},r.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},r.prototype.getRect=function(){return this.rect},r.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},r.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},r.prototype.setRect=function(t,o){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=o.width,this.rect.height=o.height},r.prototype.setCenter=function(t,o){this.rect.x=t-this.rect.width/2,this.rect.y=o-this.rect.height/2},r.prototype.setLocation=function(t,o){this.rect.x=t,this.rect.y=o},r.prototype.moveBy=function(t,o){this.rect.x+=t,this.rect.y+=o},r.prototype.getEdgeListToNode=function(t){var o=[],a,u=this;return u.edges.forEach(function(g){if(g.target==t){if(g.source!=u)throw"Incorrect edge source!";o.push(g)}}),o},r.prototype.getEdgesBetween=function(t){var o=[],a,u=this;return u.edges.forEach(function(g){if(!(g.source==u||g.target==u))throw"Incorrect edge source and/or target";(g.target==t||g.source==t)&&o.push(g)}),o},r.prototype.getNeighborsList=function(){var t=new Set,o=this;return o.edges.forEach(function(a){if(a.source==o)t.add(a.target);else{if(a.target!=o)throw"Incorrect incidency!";t.add(a.source)}}),t},r.prototype.withChildren=function(){var t=new Set,o,a;if(t.add(this),this.child!=null)for(var u=this.child.getNodes(),g=0;g<u.length;g++)o=u[g],a=o.withChildren(),a.forEach(function(p){t.add(p)});return t},r.prototype.getNoOfChildren=function(){var t=0,o;if(this.child==null)t=1;else for(var a=this.child.getNodes(),u=0;u<a.length;u++)o=a[u],t+=o.getNoOfChildren();return t==0&&(t=1),t},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},r.prototype.scatter=function(){var t,o,a=-i.INITIAL_WORLD_BOUNDARY,u=i.INITIAL_WORLD_BOUNDARY;t=i.WORLD_CENTER_X+s.nextDouble()*(u-a)+a;var g=-i.INITIAL_WORLD_BOUNDARY,p=i.INITIAL_WORLD_BOUNDARY;o=i.WORLD_CENTER_Y+s.nextDouble()*(p-g)+g,this.rect.x=t,this.rect.y=o},r.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),i.NODE_DIMENSIONS_INCLUDE_LABELS){var o=t.getRight()-t.getLeft(),a=t.getBottom()-t.getTop();this.labelWidth>o&&(this.rect.x-=(this.labelWidth-o)/2,this.setWidth(this.labelWidth)),this.labelHeight>a&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-a)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-a),this.setHeight(this.labelHeight))}}},r.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==n.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},r.prototype.transform=function(t){var o=this.rect.x;o>i.WORLD_BOUNDARY?o=i.WORLD_BOUNDARY:o<-i.WORLD_BOUNDARY&&(o=-i.WORLD_BOUNDARY);var a=this.rect.y;a>i.WORLD_BOUNDARY?a=i.WORLD_BOUNDARY:a<-i.WORLD_BOUNDARY&&(a=-i.WORLD_BOUNDARY);var u=new l(o,a),g=t.inverseTransformPoint(u);this.setLocation(g.x,g.y)},r.prototype.getLeft=function(){return this.rect.x},r.prototype.getRight=function(){return this.rect.x+this.rect.width},r.prototype.getTop=function(){return this.rect.y},r.prototype.getBottom=function(){return this.rect.y+this.rect.height},r.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},E.exports=r},function(E,D,v){"use strict";function h(n,e){n==null&&e==null?(this.x=0,this.y=0):(this.x=n,this.y=e)}h.prototype.getX=function(){return this.x},h.prototype.getY=function(){return this.y},h.prototype.setX=function(n){this.x=n},h.prototype.setY=function(n){this.y=n},h.prototype.getDifference=function(n){return new DimensionD(this.x-n.x,this.y-n.y)},h.prototype.getCopy=function(){return new h(this.x,this.y)},h.prototype.translate=function(n){return this.x+=n.width,this.y+=n.height,this},E.exports=h},function(E,D,v){"use strict";var h=v(2),n=v(10),e=v(0),i=v(6),s=v(3),l=v(1),r=v(13),f=v(12),t=v(11);function o(u,g,p){h.call(this,p),this.estimatedSize=n.MIN_VALUE,this.margin=e.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=u,g!=null&&g instanceof i?this.graphManager=g:g!=null&&g instanceof Layout&&(this.graphManager=g.graphManager)}o.prototype=Object.create(h.prototype);for(var a in h)o[a]=h[a];o.prototype.getNodes=function(){return this.nodes},o.prototype.getEdges=function(){return this.edges},o.prototype.getGraphManager=function(){return this.graphManager},o.prototype.getParent=function(){return this.parent},o.prototype.getLeft=function(){return this.left},o.prototype.getRight=function(){return this.right},o.prototype.getTop=function(){return this.top},o.prototype.getBottom=function(){return this.bottom},o.prototype.isConnected=function(){return this.isConnected},o.prototype.add=function(u,g,p){if(g==null&&p==null){var c=u;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(c)>-1)throw"Node already in graph!";return c.owner=this,this.getNodes().push(c),c}else{var y=u;if(!(this.getNodes().indexOf(g)>-1&&this.getNodes().indexOf(p)>-1))throw"Source or target not in graph!";if(!(g.owner==p.owner&&g.owner==this))throw"Both owners must be this graph!";return g.owner!=p.owner?null:(y.source=g,y.target=p,y.isInterGraph=!1,this.getEdges().push(y),g.edges.push(y),p!=g&&p.edges.push(y),y)}},o.prototype.remove=function(u){var g=u;if(u instanceof s){if(g==null)throw"Node is null!";if(!(g.owner!=null&&g.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var p=g.edges.slice(),c,y=p.length,d=0;d<y;d++)c=p[d],c.isInterGraph?this.graphManager.remove(c):c.source.owner.remove(c);var L=this.nodes.indexOf(g);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(u instanceof l){var c=u;if(c==null)throw"Edge is null!";if(!(c.source!=null&&c.target!=null))throw"Source and/or target is null!";if(!(c.source.owner!=null&&c.target.owner!=null&&c.source.owner==this&&c.target.owner==this))throw"Source and/or target owner is invalid!";var O=c.source.edges.indexOf(c),I=c.target.edges.indexOf(c);if(!(O>-1&&I>-1))throw"Source and/or target doesn't know this edge!";c.source.edges.splice(O,1),c.target!=c.source&&c.target.edges.splice(I,1);var L=c.source.owner.getEdges().indexOf(c);if(L==-1)throw"Not in owner's edge list!";c.source.owner.getEdges().splice(L,1)}},o.prototype.updateLeftTop=function(){for(var u=n.MAX_VALUE,g=n.MAX_VALUE,p,c,y,d=this.getNodes(),L=d.length,O=0;O<L;O++){var I=d[O];p=I.getTop(),c=I.getLeft(),u>p&&(u=p),g>c&&(g=c)}return u==n.MAX_VALUE?null:(d[0].getParent().paddingLeft!=null?y=d[0].getParent().paddingLeft:y=this.margin,this.left=g-y,this.top=u-y,new f(this.left,this.top))},o.prototype.updateBounds=function(u){for(var g=n.MAX_VALUE,p=-n.MAX_VALUE,c=n.MAX_VALUE,y=-n.MAX_VALUE,d,L,O,I,T,A=this.nodes,N=A.length,R=0;R<N;R++){var x=A[R];u&&x.child!=null&&x.updateBounds(),d=x.getLeft(),L=x.getRight(),O=x.getTop(),I=x.getBottom(),g>d&&(g=d),p<L&&(p=L),c>O&&(c=O),y<I&&(y=I)}var m=new r(g,c,p-g,y-c);g==n.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),A[0].getParent().paddingLeft!=null?T=A[0].getParent().paddingLeft:T=this.margin,this.left=m.x-T,this.right=m.x+m.width+T,this.top=m.y-T,this.bottom=m.y+m.height+T},o.calculateBounds=function(u){for(var g=n.MAX_VALUE,p=-n.MAX_VALUE,c=n.MAX_VALUE,y=-n.MAX_VALUE,d,L,O,I,T=u.length,A=0;A<T;A++){var N=u[A];d=N.getLeft(),L=N.getRight(),O=N.getTop(),I=N.getBottom(),g>d&&(g=d),p<L&&(p=L),c>O&&(c=O),y<I&&(y=I)}var R=new r(g,c,p-g,y-c);return R},o.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},o.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE)throw"assert failed";return this.estimatedSize},o.prototype.calcEstimatedSize=function(){for(var u=0,g=this.nodes,p=g.length,c=0;c<p;c++){var y=g[c];u+=y.calcEstimatedSize()}return u==0?this.estimatedSize=e.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=u/Math.sqrt(this.nodes.length),this.estimatedSize},o.prototype.updateConnected=function(){var u=this;if(this.nodes.length==0){this.isConnected=!0;return}var g=new t,p=new Set,c=this.nodes[0],y,d,L=c.withChildren();for(L.forEach(function(R){g.push(R),p.add(R)});g.length!==0;){c=g.shift(),y=c.getEdges();for(var O=y.length,I=0;I<O;I++){var T=y[I];if(d=T.getOtherEndInGraph(c,this),d!=null&&!p.has(d)){var A=d.withChildren();A.forEach(function(R){g.push(R),p.add(R)})}}}if(this.isConnected=!1,p.size>=this.nodes.length){var N=0;p.forEach(function(R){R.owner==u&&N++}),N==this.nodes.length&&(this.isConnected=!0)}},E.exports=o},function(E,D,v){"use strict";var h,n=v(1);function e(i){h=v(5),this.layout=i,this.graphs=[],this.edges=[]}e.prototype.addRoot=function(){var i=this.layout.newGraph(),s=this.layout.newNode(null),l=this.add(i,s);return this.setRootGraph(l),this.rootGraph},e.prototype.add=function(i,s,l,r,f){if(l==null&&r==null&&f==null){if(i==null)throw"Graph is null!";if(s==null)throw"Parent node is null!";if(this.graphs.indexOf(i)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(i),i.parent!=null)throw"Already has a parent!";if(s.child!=null)throw"Already has a child!";return i.parent=s,s.child=i,i}else{f=l,r=s,l=i;var t=r.getOwner(),o=f.getOwner();if(!(t!=null&&t.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(o!=null&&o.getGraphManager()==this))throw"Target not in this graph mgr!";if(t==o)return l.isInterGraph=!1,t.add(l,r,f);if(l.isInterGraph=!0,l.source=r,l.target=f,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},e.prototype.remove=function(i){if(i instanceof h){var s=i;if(s.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(s==this.rootGraph||s.parent!=null&&s.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(s.getEdges());for(var r,f=l.length,t=0;t<f;t++)r=l[t],s.remove(r);var o=[];o=o.concat(s.getNodes());var a;f=o.length;for(var t=0;t<f;t++)a=o[t],s.remove(a);s==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(s);this.graphs.splice(u,1),s.parent=null}else if(i instanceof n){if(r=i,r==null)throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(!(r.source!=null&&r.target!=null))throw"Source and/or target is null!";if(!(r.source.edges.indexOf(r)!=-1&&r.target.edges.indexOf(r)!=-1))throw"Source and/or target doesn't know this edge!";var u=r.source.edges.indexOf(r);if(r.source.edges.splice(u,1),u=r.target.edges.indexOf(r),r.target.edges.splice(u,1),!(r.source.owner!=null&&r.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(r.source.owner.getGraphManager().edges.indexOf(r)==-1)throw"Not in owner graph manager's edge list!";var u=r.source.owner.getGraphManager().edges.indexOf(r);r.source.owner.getGraphManager().edges.splice(u,1)}},e.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},e.prototype.getGraphs=function(){return this.graphs},e.prototype.getAllNodes=function(){if(this.allNodes==null){for(var i=[],s=this.getGraphs(),l=s.length,r=0;r<l;r++)i=i.concat(s[r].getNodes());this.allNodes=i}return this.allNodes},e.prototype.resetAllNodes=function(){this.allNodes=null},e.prototype.resetAllEdges=function(){this.allEdges=null},e.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},e.prototype.getAllEdges=function(){if(this.allEdges==null){for(var i=[],s=this.getGraphs(),l=s.length,r=0;r<s.length;r++)i=i.concat(s[r].getEdges());i=i.concat(this.edges),this.allEdges=i}return this.allEdges},e.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},e.prototype.setAllNodesToApplyGravitation=function(i){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=i},e.prototype.getRoot=function(){return this.rootGraph},e.prototype.setRootGraph=function(i){if(i.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=i,i.parent==null&&(i.parent=this.layout.newNode("Root node"))},e.prototype.getLayout=function(){return this.layout},e.prototype.isOneAncestorOfOther=function(i,s){if(!(i!=null&&s!=null))throw"assert failed";if(i==s)return!0;var l=i.getOwner(),r;do{if(r=l.getParent(),r==null)break;if(r==s)return!0;if(l=r.getOwner(),l==null)break}while(!0);l=s.getOwner();do{if(r=l.getParent(),r==null)break;if(r==i)return!0;if(l=r.getOwner(),l==null)break}while(!0);return!1},e.prototype.calcLowestCommonAncestors=function(){for(var i,s,l,r,f,t=this.getAllEdges(),o=t.length,a=0;a<o;a++){if(i=t[a],s=i.source,l=i.target,i.lca=null,i.sourceInLca=s,i.targetInLca=l,s==l){i.lca=s.getOwner();continue}for(r=s.getOwner();i.lca==null;){for(i.targetInLca=l,f=l.getOwner();i.lca==null;){if(f==r){i.lca=f;break}if(f==this.rootGraph)break;if(i.lca!=null)throw"assert failed";i.targetInLca=f.getParent(),f=i.targetInLca.getOwner()}if(r==this.rootGraph)break;i.lca==null&&(i.sourceInLca=r.getParent(),r=i.sourceInLca.getOwner())}if(i.lca==null)throw"assert failed"}},e.prototype.calcLowestCommonAncestor=function(i,s){if(i==s)return i.getOwner();var l=i.getOwner();do{if(l==null)break;var r=s.getOwner();do{if(r==null)break;if(r==l)return r;r=r.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},e.prototype.calcInclusionTreeDepths=function(i,s){i==null&&s==null&&(i=this.rootGraph,s=1);for(var l,r=i.getNodes(),f=r.length,t=0;t<f;t++)l=r[t],l.inclusionTreeDepth=s,l.child!=null&&this.calcInclusionTreeDepths(l.child,s+1)},e.prototype.includesInvalidEdge=function(){for(var i,s=this.edges.length,l=0;l<s;l++)if(i=this.edges[l],this.isOneAncestorOfOther(i.source,i.target))return!0;return!1},E.exports=e},function(E,D,v){"use strict";var h=v(0);function n(){}for(var e in h)n[e]=h[e];n.MAX_ITERATIONS=2500,n.DEFAULT_EDGE_LENGTH=50,n.DEFAULT_SPRING_STRENGTH=.45,n.DEFAULT_REPULSION_STRENGTH=4500,n.DEFAULT_GRAVITY_STRENGTH=.4,n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,n.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,n.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,n.COOLING_ADAPTATION_FACTOR=.33,n.ADAPTATION_LOWER_NODE_LIMIT=1e3,n.ADAPTATION_UPPER_NODE_LIMIT=5e3,n.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,n.MAX_NODE_DISPLACEMENT=n.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,n.MIN_REPULSION_DIST=n.DEFAULT_EDGE_LENGTH/10,n.CONVERGENCE_CHECK_PERIOD=100,n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,n.MIN_EDGE_LENGTH=1,n.GRID_CALCULATION_CHECK_PERIOD=10,E.exports=n},function(E,D,v){"use strict";var h=v(12);function n(){}n.calcSeparationAmount=function(e,i,s,l){if(!e.intersects(i))throw"assert failed";var r=new Array(2);this.decideDirectionsForOverlappingNodes(e,i,r),s[0]=Math.min(e.getRight(),i.getRight())-Math.max(e.x,i.x),s[1]=Math.min(e.getBottom(),i.getBottom())-Math.max(e.y,i.y),e.getX()<=i.getX()&&e.getRight()>=i.getRight()?s[0]+=Math.min(i.getX()-e.getX(),e.getRight()-i.getRight()):i.getX()<=e.getX()&&i.getRight()>=e.getRight()&&(s[0]+=Math.min(e.getX()-i.getX(),i.getRight()-e.getRight())),e.getY()<=i.getY()&&e.getBottom()>=i.getBottom()?s[1]+=Math.min(i.getY()-e.getY(),e.getBottom()-i.getBottom()):i.getY()<=e.getY()&&i.getBottom()>=e.getBottom()&&(s[1]+=Math.min(e.getY()-i.getY(),i.getBottom()-e.getBottom()));var f=Math.abs((i.getCenterY()-e.getCenterY())/(i.getCenterX()-e.getCenterX()));i.getCenterY()===e.getCenterY()&&i.getCenterX()===e.getCenterX()&&(f=1);var t=f*s[0],o=s[1]/f;s[0]<o?o=s[0]:t=s[1],s[0]=-1*r[0]*(o/2+l),s[1]=-1*r[1]*(t/2+l)},n.decideDirectionsForOverlappingNodes=function(e,i,s){e.getCenterX()<i.getCenterX()?s[0]=-1:s[0]=1,e.getCenterY()<i.getCenterY()?s[1]=-1:s[1]=1},n.getIntersection2=function(e,i,s){var l=e.getCenterX(),r=e.getCenterY(),f=i.getCenterX(),t=i.getCenterY();if(e.intersects(i))return s[0]=l,s[1]=r,s[2]=f,s[3]=t,!0;var o=e.getX(),a=e.getY(),u=e.getRight(),g=e.getX(),p=e.getBottom(),c=e.getRight(),y=e.getWidthHalf(),d=e.getHeightHalf(),L=i.getX(),O=i.getY(),I=i.getRight(),T=i.getX(),A=i.getBottom(),N=i.getRight(),R=i.getWidthHalf(),x=i.getHeightHalf(),m=!1,w=!1;if(l===f){if(r>t)return s[0]=l,s[1]=a,s[2]=f,s[3]=A,!1;if(r<t)return s[0]=l,s[1]=p,s[2]=f,s[3]=O,!1}else if(r===t){if(l>f)return s[0]=o,s[1]=r,s[2]=I,s[3]=t,!1;if(l<f)return s[0]=u,s[1]=r,s[2]=L,s[3]=t,!1}else{var C=e.height/e.width,X=i.height/i.width,M=(t-r)/(f-l),U=void 0,P=void 0,F=void 0,G=void 0,S=void 0,Y=void 0;if(-C===M?l>f?(s[0]=g,s[1]=p,m=!0):(s[0]=u,s[1]=a,m=!0):C===M&&(l>f?(s[0]=o,s[1]=a,m=!0):(s[0]=c,s[1]=p,m=!0)),-X===M?f>l?(s[2]=T,s[3]=A,w=!0):(s[2]=I,s[3]=O,w=!0):X===M&&(f>l?(s[2]=L,s[3]=O,w=!0):(s[2]=N,s[3]=A,w=!0)),m&&w)return!1;if(l>f?r>t?(U=this.getCardinalDirection(C,M,4),P=this.getCardinalDirection(X,M,2)):(U=this.getCardinalDirection(-C,M,3),P=this.getCardinalDirection(-X,M,1)):r>t?(U=this.getCardinalDirection(-C,M,1),P=this.getCardinalDirection(-X,M,3)):(U=this.getCardinalDirection(C,M,2),P=this.getCardinalDirection(X,M,4)),!m)switch(U){case 1:G=a,F=l+-d/M,s[0]=F,s[1]=G;break;case 2:F=c,G=r+y*M,s[0]=F,s[1]=G;break;case 3:G=p,F=l+d/M,s[0]=F,s[1]=G;break;case 4:F=g,G=r+-y*M,s[0]=F,s[1]=G;break}if(!w)switch(P){case 1:Y=O,S=f+-x/M,s[2]=S,s[3]=Y;break;case 2:S=N,Y=t+R*M,s[2]=S,s[3]=Y;break;case 3:Y=A,S=f+x/M,s[2]=S,s[3]=Y;break;case 4:S=T,Y=t+-R*M,s[2]=S,s[3]=Y;break}}return!1},n.getCardinalDirection=function(e,i,s){return e>i?s:1+s%4},n.getIntersection=function(e,i,s,l){if(l==null)return this.getIntersection2(e,i,s);var r=e.x,f=e.y,t=i.x,o=i.y,a=s.x,u=s.y,g=l.x,p=l.y,c=void 0,y=void 0,d=void 0,L=void 0,O=void 0,I=void 0,T=void 0,A=void 0,N=void 0;return d=o-f,O=r-t,T=t*f-r*o,L=p-u,I=a-g,A=g*u-a*p,N=d*I-L*O,N===0?null:(c=(O*A-I*T)/N,y=(L*T-d*A)/N,new h(c,y))},n.angleOfVector=function(e,i,s,l){var r=void 0;return e!==s?(r=Math.atan((l-i)/(s-e)),s<e?r+=Math.PI:l<i&&(r+=this.TWO_PI)):l<i?r=this.ONE_AND_HALF_PI:r=this.HALF_PI,r},n.doIntersect=function(e,i,s,l){var r=e.x,f=e.y,t=i.x,o=i.y,a=s.x,u=s.y,g=l.x,p=l.y,c=(t-r)*(p-u)-(g-a)*(o-f);if(c===0)return!1;var y=((p-u)*(g-r)+(a-g)*(p-f))/c,d=((f-o)*(g-r)+(t-r)*(p-f))/c;return 0<y&&y<1&&0<d&&d<1},n.HALF_PI=.5*Math.PI,n.ONE_AND_HALF_PI=1.5*Math.PI,n.TWO_PI=2*Math.PI,n.THREE_PI=3*Math.PI,E.exports=n},function(E,D,v){"use strict";function h(){}h.sign=function(n){return n>0?1:n<0?-1:0},h.floor=function(n){return n<0?Math.ceil(n):Math.floor(n)},h.ceil=function(n){return n<0?Math.floor(n):Math.ceil(n)},E.exports=h},function(E,D,v){"use strict";function h(){}h.MAX_VALUE=2147483647,h.MIN_VALUE=-2147483648,E.exports=h},function(E,D,v){"use strict";var h=function(){function r(f,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}return function(f,t,o){return t&&r(f.prototype,t),o&&r(f,o),f}}();function n(r,f){if(!(r instanceof f))throw new TypeError("Cannot call a class as a function")}var e=function(f){return{value:f,next:null,prev:null}},i=function(f,t,o,a){return f!==null?f.next=t:a.head=t,o!==null?o.prev=t:a.tail=t,t.prev=f,t.next=o,a.length++,t},s=function(f,t){var o=f.prev,a=f.next;return o!==null?o.next=a:t.head=a,a!==null?a.prev=o:t.tail=o,f.prev=f.next=null,t.length--,f},l=function(){function r(f){var t=this;n(this,r),this.length=0,this.head=null,this.tail=null,f!=null&&f.forEach(function(o){return t.push(o)})}return h(r,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,o){return i(o.prev,e(t),o,this)}},{key:"insertAfter",value:function(t,o){return i(o,e(t),o.next,this)}},{key:"insertNodeBefore",value:function(t,o){return i(o.prev,t,o,this)}},{key:"insertNodeAfter",value:function(t,o){return i(o,t,o.next,this)}},{key:"push",value:function(t){return i(this.tail,e(t),null,this)}},{key:"unshift",value:function(t){return i(null,e(t),this.head,this)}},{key:"remove",value:function(t){return s(t,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var o=1,a=this.head;o<t;)a=a.next,o++;return a.value}}},{key:"set_object_at",value:function(t,o){if(t<=this.length()){for(var a=1,u=this.head;a<t;)u=u.next,a++;u.value=o}}}]),r}();E.exports=l},function(E,D,v){"use strict";function h(n,e,i){this.x=null,this.y=null,n==null&&e==null&&i==null?(this.x=0,this.y=0):typeof n=="number"&&typeof e=="number"&&i==null?(this.x=n,this.y=e):n.constructor.name=="Point"&&e==null&&i==null&&(i=n,this.x=i.x,this.y=i.y)}h.prototype.getX=function(){return this.x},h.prototype.getY=function(){return this.y},h.prototype.getLocation=function(){return new h(this.x,this.y)},h.prototype.setLocation=function(n,e,i){n.constructor.name=="Point"&&e==null&&i==null?(i=n,this.setLocation(i.x,i.y)):typeof n=="number"&&typeof e=="number"&&i==null&&(parseInt(n)==n&&parseInt(e)==e?this.move(n,e):(this.x=Math.floor(n+.5),this.y=Math.floor(e+.5)))},h.prototype.move=function(n,e){this.x=n,this.y=e},h.prototype.translate=function(n,e){this.x+=n,this.y+=e},h.prototype.equals=function(n){if(n.constructor.name=="Point"){var e=n;return this.x==e.x&&this.y==e.y}return this==n},h.prototype.toString=function(){return new h().constructor.name+"[x="+this.x+",y="+this.y+"]"},E.exports=h},function(E,D,v){"use strict";function h(n,e,i,s){this.x=0,this.y=0,this.width=0,this.height=0,n!=null&&e!=null&&i!=null&&s!=null&&(this.x=n,this.y=e,this.width=i,this.height=s)}h.prototype.getX=function(){return this.x},h.prototype.setX=function(n){this.x=n},h.prototype.getY=function(){return this.y},h.prototype.setY=function(n){this.y=n},h.prototype.getWidth=function(){return this.width},h.prototype.setWidth=function(n){this.width=n},h.prototype.getHeight=function(){return this.height},h.prototype.setHeight=function(n){this.height=n},h.prototype.getRight=function(){return this.x+this.width},h.prototype.getBottom=function(){return this.y+this.height},h.prototype.intersects=function(n){return!(this.getRight()<n.x||this.getBottom()<n.y||n.getRight()<this.x||n.getBottom()<this.y)},h.prototype.getCenterX=function(){return this.x+this.width/2},h.prototype.getMinX=function(){return this.getX()},h.prototype.getMaxX=function(){return this.getX()+this.width},h.prototype.getCenterY=function(){return this.y+this.height/2},h.prototype.getMinY=function(){return this.getY()},h.prototype.getMaxY=function(){return this.getY()+this.height},h.prototype.getWidthHalf=function(){return this.width/2},h.prototype.getHeightHalf=function(){return this.height/2},E.exports=h},function(E,D,v){"use strict";var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(){}n.lastID=0,n.createID=function(e){return n.isPrimitive(e)?e:(e.uniqueID!=null||(e.uniqueID=n.getString(),n.lastID++),e.uniqueID)},n.getString=function(e){return e==null&&(e=n.lastID),"Object#"+e},n.isPrimitive=function(e){var i=typeof e>"u"?"undefined":h(e);return e==null||i!="object"&&i!="function"},E.exports=n},function(E,D,v){"use strict";function h(a){if(Array.isArray(a)){for(var u=0,g=Array(a.length);u<a.length;u++)g[u]=a[u];return g}else return Array.from(a)}var n=v(0),e=v(6),i=v(3),s=v(1),l=v(5),r=v(4),f=v(17),t=v(27);function o(a){t.call(this),this.layoutQuality=n.QUALITY,this.createBendsAsNeeded=n.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=n.DEFAULT_INCREMENTAL,this.animationOnLayout=n.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=n.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=n.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=n.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new e(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,a!=null&&(this.isRemoteUse=a)}o.RANDOM_SEED=1,o.prototype=Object.create(t.prototype),o.prototype.getGraphManager=function(){return this.graphManager},o.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},o.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},o.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},o.prototype.newGraphManager=function(){var a=new e(this);return this.graphManager=a,a},o.prototype.newGraph=function(a){return new l(null,this.graphManager,a)},o.prototype.newNode=function(a){return new i(this.graphManager,a)},o.prototype.newEdge=function(a){return new s(null,null,a)},o.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},o.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var a;return this.checkLayoutSuccess()?a=!1:a=this.layout(),n.ANIMATE==="during"?!1:(a&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,a)},o.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},o.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var a,u=this.graphManager.getAllEdges(),g=0;g<u.length;g++)a=u[g];for(var p,c=this.graphManager.getRoot().getNodes(),g=0;g<c.length;g++)p=c[g];this.update(this.graphManager.getRoot())}},o.prototype.update=function(a){if(a==null)this.update2();else if(a instanceof i){var u=a;if(u.getChild()!=null)for(var g=u.getChild().getNodes(),p=0;p<g.length;p++)update(g[p]);if(u.vGraphObject!=null){var c=u.vGraphObject;c.update(u)}}else if(a instanceof s){var y=a;if(y.vGraphObject!=null){var d=y.vGraphObject;d.update(y)}}else if(a instanceof l){var L=a;if(L.vGraphObject!=null){var O=L.vGraphObject;O.update(L)}}},o.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=n.QUALITY,this.animationDuringLayout=n.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=n.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=n.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=n.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=n.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=n.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},o.prototype.transform=function(a){if(a==null)this.transform(new r(0,0));else{var u=new f,g=this.graphManager.getRoot().updateLeftTop();if(g!=null){u.setWorldOrgX(a.x),u.setWorldOrgY(a.y),u.setDeviceOrgX(g.x),u.setDeviceOrgY(g.y);for(var p=this.getAllNodes(),c,y=0;y<p.length;y++)c=p[y],c.transform(u)}}},o.prototype.positionNodesRandomly=function(a){if(a==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var u,g,p=a.getNodes(),c=0;c<p.length;c++)u=p[c],g=u.getChild(),g==null||g.getNodes().length==0?u.scatter():(this.positionNodesRandomly(g),u.updateBounds())},o.prototype.getFlatForest=function(){for(var a=[],u=!0,g=this.graphManager.getRoot().getNodes(),p=!0,c=0;c<g.length;c++)g[c].getChild()!=null&&(p=!1);if(!p)return a;var y=new Set,d=[],L=new Map,O=[];for(O=O.concat(g);O.length>0&&u;){for(d.push(O[0]);d.length>0&&u;){var I=d[0];d.splice(0,1),y.add(I);for(var T=I.getEdges(),c=0;c<T.length;c++){var A=T[c].getOtherEnd(I);if(L.get(I)!=A)if(!y.has(A))d.push(A),L.set(A,I);else{u=!1;break}}}if(!u)a=[];else{var N=[].concat(h(y));a.push(N);for(var c=0;c<N.length;c++){var R=N[c],x=O.indexOf(R);x>-1&&O.splice(x,1)}y=new Set,L=new Map}}return a},o.prototype.createDummyNodesForBendpoints=function(a){for(var u=[],g=a.source,p=this.graphManager.calcLowestCommonAncestor(a.source,a.target),c=0;c<a.bendpoints.length;c++){var y=this.newNode(null);y.setRect(new Point(0,0),new Dimension(1,1)),p.add(y);var d=this.newEdge(null);this.graphManager.add(d,g,y),u.add(y),g=y}var d=this.newEdge(null);return this.graphManager.add(d,g,a.target),this.edgeToDummyNodes.set(a,u),a.isInterGraph()?this.graphManager.remove(a):p.remove(a),u},o.prototype.createBendpointsFromDummyNodes=function(){var a=[];a=a.concat(this.graphManager.getAllEdges()),a=[].concat(h(this.edgeToDummyNodes.keys())).concat(a);for(var u=0;u<a.length;u++){var g=a[u];if(g.bendpoints.length>0){for(var p=this.edgeToDummyNodes.get(g),c=0;c<p.length;c++){var y=p[c],d=new r(y.getCenterX(),y.getCenterY()),L=g.bendpoints.get(c);L.x=d.x,L.y=d.y,y.getOwner().remove(y)}this.graphManager.add(g,g.source,g.target)}}},o.transform=function(a,u,g,p){if(g!=null&&p!=null){var c=u;if(a<=50){var y=u/g;c-=(u-y)/50*(50-a)}else{var d=u*p;c+=(d-u)/50*(a-50)}return c}else{var L,O;return a<=50?(L=9*u/500,O=u/10):(L=9*u/50,O=-8*u),L*a+O}},o.findCenterOfTree=function(a){var u=[];u=u.concat(a);var g=[],p=new Map,c=!1,y=null;(u.length==1||u.length==2)&&(c=!0,y=u[0]);for(var d=0;d<u.length;d++){var L=u[d],O=L.getNeighborsList().size;p.set(L,L.getNeighborsList().size),O==1&&g.push(L)}var I=[];for(I=I.concat(g);!c;){var T=[];T=T.concat(I),I=[];for(var d=0;d<u.length;d++){var L=u[d],A=u.indexOf(L);A>=0&&u.splice(A,1);var N=L.getNeighborsList();N.forEach(function(m){if(g.indexOf(m)<0){var w=p.get(m),C=w-1;C==1&&I.push(m),p.set(m,C)}})}g=g.concat(I),(u.length==1||u.length==2)&&(c=!0,y=u[0])}return y},o.prototype.setGraphManager=function(a){this.graphManager=a},E.exports=o},function(E,D,v){"use strict";function h(){}h.seed=1,h.x=0,h.nextDouble=function(){return h.x=Math.sin(h.seed++)*1e4,h.x-Math.floor(h.x)},E.exports=h},function(E,D,v){"use strict";var h=v(4);function n(e,i){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}n.prototype.getWorldOrgX=function(){return this.lworldOrgX},n.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},n.prototype.getWorldOrgY=function(){return this.lworldOrgY},n.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},n.prototype.getWorldExtX=function(){return this.lworldExtX},n.prototype.setWorldExtX=function(e){this.lworldExtX=e},n.prototype.getWorldExtY=function(){return this.lworldExtY},n.prototype.setWorldExtY=function(e){this.lworldExtY=e},n.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},n.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},n.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},n.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},n.prototype.getDeviceExtX=function(){return this.ldeviceExtX},n.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},n.prototype.getDeviceExtY=function(){return this.ldeviceExtY},n.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},n.prototype.transformX=function(e){var i=0,s=this.lworldExtX;return s!=0&&(i=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/s),i},n.prototype.transformY=function(e){var i=0,s=this.lworldExtY;return s!=0&&(i=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/s),i},n.prototype.inverseTransformX=function(e){var i=0,s=this.ldeviceExtX;return s!=0&&(i=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/s),i},n.prototype.inverseTransformY=function(e){var i=0,s=this.ldeviceExtY;return s!=0&&(i=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/s),i},n.prototype.inverseTransformPoint=function(e){var i=new h(this.inverseTransformX(e.x),this.inverseTransformY(e.y));return i},E.exports=n},function(E,D,v){"use strict";function h(t){if(Array.isArray(t)){for(var o=0,a=Array(t.length);o<t.length;o++)a[o]=t[o];return a}else return Array.from(t)}var n=v(15),e=v(7),i=v(0),s=v(8),l=v(9);function r(){n.call(this),this.useSmartIdealEdgeLengthCalculation=e.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=e.DEFAULT_EDGE_LENGTH,this.springConstant=e.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=e.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=e.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=e.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=e.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=e.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*e.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=e.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=e.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=e.MAX_ITERATIONS}r.prototype=Object.create(n.prototype);for(var f in n)r[f]=n[f];r.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=e.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},r.prototype.calcIdealEdgeLengths=function(){for(var t,o,a,u,g,p,c=this.getGraphManager().getAllEdges(),y=0;y<c.length;y++)t=c[y],t.idealLength=this.idealEdgeLength,t.isInterGraph&&(a=t.getSource(),u=t.getTarget(),g=t.getSourceInLca().getEstimatedSize(),p=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=g+p-2*i.SIMPLE_NODE_SIZE),o=t.getLca().getInclusionTreeDepth(),t.idealLength+=e.DEFAULT_EDGE_LENGTH*e.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(a.getInclusionTreeDepth()+u.getInclusionTreeDepth()-2*o))},r.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>e.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*e.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-e.ADAPTATION_LOWER_NODE_LIMIT)/(e.ADAPTATION_UPPER_NODE_LIMIT-e.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-e.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=e.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>e.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(e.COOLING_ADAPTATION_FACTOR,1-(t-e.ADAPTATION_LOWER_NODE_LIMIT)/(e.ADAPTATION_UPPER_NODE_LIMIT-e.ADAPTATION_LOWER_NODE_LIMIT)*(1-e.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=e.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},r.prototype.calcSpringForces=function(){for(var t=this.getAllEdges(),o,a=0;a<t.length;a++)o=t[a],this.calcSpringForce(o,o.idealLength)},r.prototype.calcRepulsionForces=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a,u,g,p,c=this.getAllNodes(),y;if(this.useFRGridVariant)for(this.totalIterations%e.GRID_CALCULATION_CHECK_PERIOD==1&&t&&this.updateGrid(),y=new Set,a=0;a<c.length;a++)g=c[a],this.calculateRepulsionForceOfANode(g,y,t,o),y.add(g);else for(a=0;a<c.length;a++)for(g=c[a],u=a+1;u<c.length;u++)p=c[u],g.getOwner()==p.getOwner()&&this.calcRepulsionForce(g,p)},r.prototype.calcGravitationalForces=function(){for(var t,o=this.getAllNodesToApplyGravitation(),a=0;a<o.length;a++)t=o[a],this.calcGravitationalForce(t)},r.prototype.moveNodes=function(){for(var t=this.getAllNodes(),o,a=0;a<t.length;a++)o=t[a],o.move()},r.prototype.calcSpringForce=function(t,o){var a=t.getSource(),u=t.getTarget(),g,p,c,y;if(this.uniformLeafNodeSizes&&a.getChild()==null&&u.getChild()==null)t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;g=t.getLength(),g!=0&&(p=this.springConstant*(g-o),c=p*(t.lengthX/g),y=p*(t.lengthY/g),a.springForceX+=c,a.springForceY+=y,u.springForceX-=c,u.springForceY-=y)},r.prototype.calcRepulsionForce=function(t,o){var a=t.getRect(),u=o.getRect(),g=new Array(2),p=new Array(4),c,y,d,L,O,I,T;if(a.intersects(u)){s.calcSeparationAmount(a,u,g,e.DEFAULT_EDGE_LENGTH/2),I=2*g[0],T=2*g[1];var A=t.noOfChildren*o.noOfChildren/(t.noOfChildren+o.noOfChildren);t.repulsionForceX-=A*I,t.repulsionForceY-=A*T,o.repulsionForceX+=A*I,o.repulsionForceY+=A*T}else this.uniformLeafNodeSizes&&t.getChild()==null&&o.getChild()==null?(c=u.getCenterX()-a.getCenterX(),y=u.getCenterY()-a.getCenterY()):(s.getIntersection(a,u,p),c=p[2]-p[0],y=p[3]-p[1]),Math.abs(c)<e.MIN_REPULSION_DIST&&(c=l.sign(c)*e.MIN_REPULSION_DIST),Math.abs(y)<e.MIN_REPULSION_DIST&&(y=l.sign(y)*e.MIN_REPULSION_DIST),d=c*c+y*y,L=Math.sqrt(d),O=this.repulsionConstant*t.noOfChildren*o.noOfChildren/d,I=O*c/L,T=O*y/L,t.repulsionForceX-=I,t.repulsionForceY-=T,o.repulsionForceX+=I,o.repulsionForceY+=T},r.prototype.calcGravitationalForce=function(t){var o,a,u,g,p,c,y,d;o=t.getOwner(),a=(o.getRight()+o.getLeft())/2,u=(o.getTop()+o.getBottom())/2,g=t.getCenterX()-a,p=t.getCenterY()-u,c=Math.abs(g)+t.getWidth()/2,y=Math.abs(p)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(d=o.getEstimatedSize()*this.gravityRangeFactor,(c>d||y>d)&&(t.gravitationForceX=-this.gravityConstant*g,t.gravitationForceY=-this.gravityConstant*p)):(d=o.getEstimatedSize()*this.compoundGravityRangeFactor,(c>d||y>d)&&(t.gravitationForceX=-this.gravityConstant*g*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*p*this.compoundGravityConstant))},r.prototype.isConverged=function(){var t,o=!1;return this.totalIterations>this.maxIterations/3&&(o=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||o},r.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},r.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,o=this.graphManager.getAllNodes(),a=0;a<o.length;a++)t=o[a],t.noOfChildren=t.getNoOfChildren()},r.prototype.calcGrid=function(t){var o=0,a=0;o=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),a=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var u=new Array(o),g=0;g<o;g++)u[g]=new Array(a);for(var g=0;g<o;g++)for(var p=0;p<a;p++)u[g][p]=new Array;return u},r.prototype.addNodeToGrid=function(t,o,a){var u=0,g=0,p=0,c=0;u=parseInt(Math.floor((t.getRect().x-o)/this.repulsionRange)),g=parseInt(Math.floor((t.getRect().width+t.getRect().x-o)/this.repulsionRange)),p=parseInt(Math.floor((t.getRect().y-a)/this.repulsionRange)),c=parseInt(Math.floor((t.getRect().height+t.getRect().y-a)/this.repulsionRange));for(var y=u;y<=g;y++)for(var d=p;d<=c;d++)this.grid[y][d].push(t),t.setGridCoordinates(u,g,p,c)},r.prototype.updateGrid=function(){var t,o,a=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<a.length;t++)o=a[t],this.addNodeToGrid(o,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},r.prototype.calculateRepulsionForceOfANode=function(t,o,a,u){if(this.totalIterations%e.GRID_CALCULATION_CHECK_PERIOD==1&&a||u){var g=new Set;t.surrounding=new Array;for(var p,c=this.grid,y=t.startX-1;y<t.finishX+2;y++)for(var d=t.startY-1;d<t.finishY+2;d++)if(!(y<0||d<0||y>=c.length||d>=c[0].length)){for(var L=0;L<c[y][d].length;L++)if(p=c[y][d][L],!(t.getOwner()!=p.getOwner()||t==p)&&!o.has(p)&&!g.has(p)){var O=Math.abs(t.getCenterX()-p.getCenterX())-(t.getWidth()/2+p.getWidth()/2),I=Math.abs(t.getCenterY()-p.getCenterY())-(t.getHeight()/2+p.getHeight()/2);O<=this.repulsionRange&&I<=this.repulsionRange&&g.add(p)}}t.surrounding=[].concat(h(g))}for(y=0;y<t.surrounding.length;y++)this.calcRepulsionForce(t,t.surrounding[y])},r.prototype.calcRepulsionRange=function(){return 0},E.exports=r},function(E,D,v){"use strict";var h=v(1),n=v(7);function e(s,l,r){h.call(this,s,l,r),this.idealLength=n.DEFAULT_EDGE_LENGTH}e.prototype=Object.create(h.prototype);for(var i in h)e[i]=h[i];E.exports=e},function(E,D,v){"use strict";var h=v(3);function n(i,s,l,r){h.call(this,i,s,l,r),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}n.prototype=Object.create(h.prototype);for(var e in h)n[e]=h[e];n.prototype.setGridCoordinates=function(i,s,l,r){this.startX=i,this.finishX=s,this.startY=l,this.finishY=r},E.exports=n},function(E,D,v){"use strict";function h(n,e){this.width=0,this.height=0,n!==null&&e!==null&&(this.height=e,this.width=n)}h.prototype.getWidth=function(){return this.width},h.prototype.setWidth=function(n){this.width=n},h.prototype.getHeight=function(){return this.height},h.prototype.setHeight=function(n){this.height=n},E.exports=h},function(E,D,v){"use strict";var h=v(14);function n(){this.map={},this.keys=[]}n.prototype.put=function(e,i){var s=h.createID(e);this.contains(s)||(this.map[s]=i,this.keys.push(e))},n.prototype.contains=function(e){var i=h.createID(e);return this.map[e]!=null},n.prototype.get=function(e){var i=h.createID(e);return this.map[i]},n.prototype.keySet=function(){return this.keys},E.exports=n},function(E,D,v){"use strict";var h=v(14);function n(){this.set={}}n.prototype.add=function(e){var i=h.createID(e);this.contains(i)||(this.set[i]=e)},n.prototype.remove=function(e){delete this.set[h.createID(e)]},n.prototype.clear=function(){this.set={}},n.prototype.contains=function(e){return this.set[h.createID(e)]==e},n.prototype.isEmpty=function(){return this.size()===0},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAllTo=function(e){for(var i=Object.keys(this.set),s=i.length,l=0;l<s;l++)e.push(this.set[i[l]])},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAll=function(e){for(var i=e.length,s=0;s<i;s++){var l=e[s];this.add(l)}},E.exports=n},function(E,D,v){"use strict";var h=function(){function s(l,r){for(var f=0;f<r.length;f++){var t=r[f];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,r,f){return r&&s(l.prototype,r),f&&s(l,f),l}}();function n(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var e=v(11),i=function(){function s(l,r){n(this,s),(r!==null||r!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;l instanceof e?f=l.size():f=l.length,this._quicksort(l,0,f-1)}return h(s,[{key:"_quicksort",value:function(r,f,t){if(f<t){var o=this._partition(r,f,t);this._quicksort(r,f,o),this._quicksort(r,o+1,t)}}},{key:"_partition",value:function(r,f,t){for(var o=this._get(r,f),a=f,u=t;;){for(;this.compareFunction(o,this._get(r,u));)u--;for(;this.compareFunction(this._get(r,a),o);)a++;if(a<u)this._swap(r,a,u),a++,u--;else return u}}},{key:"_get",value:function(r,f){return r instanceof e?r.get_object_at(f):r[f]}},{key:"_set",value:function(r,f,t){r instanceof e?r.set_object_at(f,t):r[f]=t}},{key:"_swap",value:function(r,f,t){var o=this._get(r,f);this._set(r,f,this._get(r,t)),this._set(r,t,o)}},{key:"_defaultCompareFunction",value:function(r,f){return f>r}}]),s}();E.exports=i},function(E,D,v){"use strict";var h=function(){function i(s,l){for(var r=0;r<l.length;r++){var f=l[r];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}return function(s,l,r){return l&&i(s.prototype,l),r&&i(s,r),s}}();function n(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}var e=function(){function i(s,l){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;n(this,i),this.sequence1=s,this.sequence2=l,this.match_score=r,this.mismatch_penalty=f,this.gap_penalty=t,this.iMax=s.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var o=0;o<this.iMax;o++){this.grid[o]=new Array(this.jMax);for(var a=0;a<this.jMax;a++)this.grid[o][a]=0}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.tracebackGrid[u][g]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return h(i,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var r=1;r<this.iMax;r++)this.grid[r][0]=this.grid[r-1][0]+this.gap_penalty,this.tracebackGrid[r][0]=[!1,!0,!1];for(var f=1;f<this.iMax;f++)for(var t=1;t<this.jMax;t++){var o=void 0;this.sequence1[f-1]===this.sequence2[t-1]?o=this.grid[f-1][t-1]+this.match_score:o=this.grid[f-1][t-1]+this.mismatch_penalty;var a=this.grid[f-1][t]+this.gap_penalty,u=this.grid[f][t-1]+this.gap_penalty,g=[o,a,u],p=this.arrayAllMaxIndexes(g);this.grid[f][t]=g[p[0]],this.tracebackGrid[f][t]=[p.includes(0),p.includes(1),p.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var r=l[0],f=this.tracebackGrid[r.pos[0]][r.pos[1]];f[0]&&l.push({pos:[r.pos[0]-1,r.pos[1]-1],seq1:this.sequence1[r.pos[0]-1]+r.seq1,seq2:this.sequence2[r.pos[1]-1]+r.seq2}),f[1]&&l.push({pos:[r.pos[0]-1,r.pos[1]],seq1:this.sequence1[r.pos[0]-1]+r.seq1,seq2:"-"+r.seq2}),f[2]&&l.push({pos:[r.pos[0],r.pos[1]-1],seq1:"-"+r.seq1,seq2:this.sequence2[r.pos[1]-1]+r.seq2}),r.pos[0]===0&&r.pos[1]===0&&this.alignments.push({sequence1:r.seq1,sequence2:r.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,r){for(var f=[],t=-1;(t=l.indexOf(r,t+1))!==-1;)f.push(t);return f}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),i}();E.exports=e},function(E,D,v){"use strict";var h=function(){};h.FDLayout=v(18),h.FDLayoutConstants=v(7),h.FDLayoutEdge=v(19),h.FDLayoutNode=v(20),h.DimensionD=v(21),h.HashMap=v(22),h.HashSet=v(23),h.IGeometry=v(8),h.IMath=v(9),h.Integer=v(10),h.Point=v(12),h.PointD=v(4),h.RandomSeed=v(16),h.RectangleD=v(13),h.Transform=v(17),h.UniqueIDGeneretor=v(14),h.Quicksort=v(24),h.LinkedList=v(11),h.LGraphObject=v(2),h.LGraph=v(5),h.LEdge=v(1),h.LGraphManager=v(6),h.LNode=v(3),h.Layout=v(15),h.LayoutConstants=v(0),h.NeedlemanWunsch=v(25),E.exports=h},function(E,D,v){"use strict";function h(){this.listeners=[]}var n=h.prototype;n.addListener=function(e,i){this.listeners.push({event:e,callback:i})},n.removeListener=function(e,i){for(var s=this.listeners.length;s>=0;s--){var l=this.listeners[s];l.event===e&&l.callback===i&&this.listeners.splice(s,1)}},n.emit=function(e,i){for(var s=0;s<this.listeners.length;s++){var l=this.listeners[s];e===l.event&&l.callback(i)}},E.exports=h}])})}}]);
