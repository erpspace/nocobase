/**
 * This file is part of the NocoBase (R) project.
 * Copyright (c) 2020-2024 NocoBase Co., Ltd.
 * Authors: NocoBase Team.
 *
 * This project is dual-licensed under AGPL-3.0 and NocoBase Commercial License.
 * For more information, please refer to: https://www.nocobase.com/agreement.
 */

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react-i18next"),require("file-saver"),require("@formily/shared"),require("@nocobase/client"),require("lodash"),require("antd"),require("@formily/react"),require("@formily/antd-v5"),require("react")):"function"==typeof define&&define.amd?define("@nocobase/plugin-action-export",["react-i18next","file-saver","@formily/shared","@nocobase/client","lodash","antd","@formily/react","@formily/antd-v5","react"],t):"object"==typeof exports?exports["@nocobase/plugin-action-export"]=t(require("react-i18next"),require("file-saver"),require("@formily/shared"),require("@nocobase/client"),require("lodash"),require("antd"),require("@formily/react"),require("@formily/antd-v5"),require("react")):e["@nocobase/plugin-action-export"]=t(e["react-i18next"],e["file-saver"],e["@formily/shared"],e["@nocobase/client"],e.lodash,e.antd,e["@formily/react"],e["@formily/antd-v5"],e.react)}(self,function(e,t,n,r,o,i,a,l,u){return function(){"use strict";var c={632:function(e){e.exports=l},505:function(e){e.exports=a},875:function(e){e.exports=n},772:function(e){e.exports=r},721:function(e){e.exports=i},346:function(e){e.exports=t},467:function(e){e.exports=o},156:function(e){e.exports=u},238:function(t){t.exports=e}},s={};function p(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return c[e](n,n.exports,p),n.exports}p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,{a:t}),t},p.d=function(e,t){for(var n in t)p.o(t,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var f={};p.r(f),p.d(f,{ExportPluginProvider:function(){return T},default:function(){return K},ExportDesigner:function(){return k},ExportActionInitializer:function(){return g},PluginActionExportClient:function(){return Y},useExportAction:function(){return z}});var d=p("875"),m=p("772"),v=p("156"),y=p.n(v),b=p("505");function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t,n=(0,b.useFieldSchema)();null==n||null===(t=n["x-component-props"])||void 0===t||t.nonfilterable;var r=(0,m.useCollectionManager_deprecated)().getCollectionFields,o=r(e),i=function(e,t){if(!!e.interface){var n={name:e.name,title:(null==e?void 0:null===(o=e.uiSchema)||void 0===o?void 0:o.title)||e.name,schema:null==e?void 0:e.uiSchema};if(!e.target||t>=3)return n;if(e.target&&["hasOne","hasMany","belongsTo","belongsToMany","belongsToArray"].includes(e.type)){var o,i,l,u=a(r(e.target),t+1).filter(Boolean);n.children=n.children||[],(i=n.children).push.apply(i,function(e){if(Array.isArray(e))return x(e)}(l=u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(l)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return n}},a=function(e,t){var n=[];return e.forEach(function(e){var r=i(e,t);r&&n.push(r)}),n};return a(o,1)},g=function(){var e=(0,m.useSchemaInitializerItem)(),t=(0,m.useSchemaInitializer)().insert,n=h((0,m.useCollection_deprecated)().name),r={type:"void",title:'{{ t("Export") }}',"x-action":"export","x-action-settings":{exportSettings:[]},"x-toolbar":"ActionSchemaToolbar","x-settings":"actionSettings:export","x-decorator":"ACLActionProvider","x-component":"Action","x-use-component-props":"useExportAction","x-component-props":{icon:"clouddownloadoutlined"}};return y().createElement(m.SchemaInitializerItem,{title:e.title,onClick:function(){r["x-action-settings"].exportSettings=null==(o=n)?void 0:o.filter(function(e){return!e.children}).map(function(e){return{dataIndex:[e.name]}});var o,i,a=(0,d.merge)(r||{},e.schema||{});null==e||null===(i=e.schemaInitialize)||void 0===i||i.call(e,a),t(a)}})},S=p("632");function A(e,t){return!t&&(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function I(){var e=A(["\n                    width: 100%;\n                    & .ant-space-item:nth-child(2),\n                    & .ant-space-item:nth-child(3) {\n                      flex: 1;\n                    }\n                  "]);return I=function(){return e},e}function w(){var e=A(["\n                  border-color: var(--colorSettings);\n                  color: var(--colorSettings);\n                  &.ant-btn-dashed:hover {\n                    border-color: var(--colorSettings);\n                    color: var(--colorSettings);\n                  }\n                "]);return w=function(){return e},e}var O=function(){var e=h((0,m.useCollection_deprecated)().name);return{schema:{type:"void","x-component":"Grid",properties:{exportSettings:{type:"array","x-component":"ArrayItems","x-decorator":"FormItem",items:{type:"object",properties:{space:{type:"void","x-component":"Space","x-component-props":{className:(0,m.css)(I())},properties:{sort:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.SortHandle"},dataIndex:{type:"array","x-decorator":"FormItem","x-component":m.Cascader,required:!0,enum:e,"x-component-props":{fieldNames:{label:"title",value:"name",children:"children"},changeOnSelect:!1}},title:{type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{placeholder:'{{ t("Custom column title") }}'}},remove:{type:"void","x-decorator":"FormItem","x-component":"ArrayItems.Remove"}}}}},properties:{add:{type:"void",title:'{{ t("Add exportable field") }}',"x-component":"ArrayItems.Addition","x-component-props":{className:(0,m.css)(w())}}}}}}}},E=p("238");function j(){return(0,E.useTranslation)(["action-export","client"],{nsMode:"fallback"})}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(){var e,t,n,r,o,i,a,l=(0,b.useField)(),u=(0,b.useFieldSchema)(),c=j().t,s=(0,m.useDesignable)().dn;var p=(e=(0,v.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{!a&&null!=o.return&&o.return()}finally{if(l)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],d=p[1],x=O().schema;return(0,v.useEffect)(function(){d(x)},[l.address,null==u?void 0:null===(n=u["x-action-settings"])||void 0===n?void 0:n.exportSettings]),y().createElement(m.GeneralSchemaDesigner,{disableInitializer:!0},y().createElement(m.SchemaSettingsModalItem,{title:c("Edit button"),schema:{type:"object",title:c("Edit button"),properties:{title:{"x-decorator":"FormItem","x-component":"Input",title:c("Button title"),default:u.title,"x-component-props":{}},icon:{"x-decorator":"FormItem","x-component":"IconPicker",title:c("Button icon"),default:null==u?void 0:null===(r=u["x-component-props"])||void 0===r?void 0:r.icon,"x-component-props":{}},type:{"x-decorator":"FormItem","x-component":"Radio.Group",title:c("Button background color"),default:(null==u?void 0:null===(o=u["x-component-props"])||void 0===o?void 0:o.danger)?"danger":(null==u?void 0:null===(i=u["x-component-props"])||void 0===i?void 0:i.type)==="primary"?"primary":"default",enum:[{value:"default",label:'{{t("Default")}}'},{value:"primary",label:'{{t("Highlight")}}'},{value:"danger",label:'{{t("Danger red")}}'}]}}},onSubmit:function(e){var t,n=e.title,r=e.icon,o=e.type;u.title=n,l.title=n,l.componentProps.icon=r,l.componentProps.danger="danger"===o,l.componentProps.type=o,u["x-component-props"]=u["x-component-props"]||{},u["x-component-props"].icon=r,u["x-component-props"].danger="danger"===o,u["x-component-props"].type=o,s.emit("patch",{schema:(C(t={},"x-uid",u["x-uid"]),C(t,"title",n),C(t,"x-component-props",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}({},u["x-component-props"])),t)}),s.refresh()}}),y().createElement(m.SchemaSettingsActionModalItem,{title:c("Exportable fields"),schema:f,initialValues:{exportSettings:null==u?void 0:null===(a=u["x-action-settings"])||void 0===a?void 0:a.exportSettings},scope:{t:c},components:{ArrayItems:S.ArrayItems},onSubmit:function(e){var t,n=e.exportSettings;u["x-action-settings"].exportSettings=null==n?void 0:n.filter(function(e){var t;return null==e?void 0:null===(t=e.dataIndex)||void 0===t?void 0:t.length}).map(function(e){return{dataIndex:e.dataIndex.map(function(e){var t;return null!==(t=e.name)&&void 0!==t?t:e}),title:e.title}}),s.emit("patch",{schema:(C(t={},"x-uid",u["x-uid"]),C(t,"x-action-settings",u["x-action-settings"]),t)}),s.refresh()}}),y().createElement(m.SchemaSettingsDivider,null),y().createElement(m.SchemaSettingsRemove,{removeParentsIfNoChildren:!0,breakRemoveOn:function(e){return"Space"===e["x-component"]||e["x-component"].endsWith("ActionBar")},confirm:{title:c("Delete action")}}))},T=function(e){return y().createElement(m.SchemaComponentOptions,{components:{ExportActionInitializer:g,ExportDesigner:k},scope:{useExportAction:z}},e.children)},F=p("467"),M=p.n(F),q=p("346"),_=p("721");function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}var z=function(){var e,t,n=(0,m.useBlockRequestContext)(),r=n.service,o=n.props,i=(0,m.useDataBlockResource)(),a=(0,m.useTableBlockContext)().params,l=(0,m.useCurrentAppInfo)(),u=null==o?void 0:o.params.filter,c=(0,b.useFieldSchema)(),s=(0,m.useCompile)(),p=(0,m.useCollectionManager_deprecated)().getCollectionJoinField,f=(0,m.useCollection_deprecated)(),d=f.name,y=f.title,x=j().t,h=_.App.useApp().modal,g=(null===(t=r.params)||void 0===t?void 0:null===(e=t[1])||void 0===e?void 0:e.filters)||{},S=(0,b.useField)(),A=(0,v.useMemo)(function(){var e;return(null==l?void 0:null===(e=l.data)||void 0===e?void 0:e.exportLimit)?l.data.exportLimit:2e3},[l]);return{onClick:function(){var e;return(e=function(){var e,t,n,o,l;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,function(f){switch(f.label){case 0:return S.data=S.data||{},[4,h.confirm({title:x("Export"),content:x("Export warning",{limit:A}),okText:x("Start export")})];case 1:var v;if(!f.sent())return[2];return S.data.loading=!0,(o=M().cloneDeep(null!==(n=null==c?void 0:c["x-action-settings"])&&void 0!==n?n:{}).exportSettings).forEach(function(e){var t,n,r=null!==(n=p("".concat(d,".").concat(e.dataIndex.join("."))))&&void 0!==n?n:{},o=r.uiSchema;r.interface,e.enum=null==o?void 0:null===(t=o.enum)||void 0===t?void 0:t.map(function(e){return{value:e.value,label:e.label}}),!e.enum&&(null==o?void 0:o.type)==="boolean"&&(e.enum=[{value:!0,label:x("Yes")},{value:!1,label:x("No")}]),e.defaultTitle=null==o?void 0:o.title}),[4,i.export({title:s(y),appends:null===(t=r.params[0])||void 0===t?void 0:null===(e=t.appends)||void 0===e?void 0:e.join(),filter:(0,m.mergeFilter)(((function(e){if(Array.isArray(e))return B(e)})(v=Object.values(g))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(v)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}}(v)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([u])),sort:null==a?void 0:a.sort,values:{columns:s(o)}},{responseType:"blob"})];case 2:return l=new Blob([f.sent().data],{type:"application/x-xls"}),S.data.loading=!1,(0,q.saveAs)(l,"".concat(s(y),".xlsx")),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){D(i,r,o,a,l,"next",e)}function l(e){D(i,r,o,a,l,"throw",e)}a(void 0)})})()}}};function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=new m.SchemaSettings({name:"actionSettings:export",items:[{name:"editButton",Component:m.ButtonEditor,useComponentProps:function(){return(0,m.useSchemaToolbar)().buttonEditorProps}},{name:"exportableFields",type:"actionModal",useComponentProps:function(){var e,t,n,r,o=(0,b.useField)(),i=(0,b.useFieldSchema)(),a=(0,E.useTranslation)().t,l=(0,m.useDesignable)().dn;var u=(e=(0,v.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{!a&&null!=o.return&&o.return()}finally{if(l)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],s=u[1],p=O().schema;return(0,v.useEffect)(function(){s(p)},[o.address,null==i?void 0:null===(n=i["x-action-settings"])||void 0===n?void 0:n.exportSettings]),{title:a("Exportable fields"),schema:c,initialValues:{exportSettings:null==i?void 0:null===(r=i["x-action-settings"])||void 0===r?void 0:r.exportSettings},components:{ArrayItems:S.ArrayItems},onSubmit:function(e){var t,n=e.exportSettings;i["x-action-settings"].exportSettings=null==n?void 0:n.filter(function(e){var t;return null==e?void 0:null===(t=e.dataIndex)||void 0===t?void 0:t.length}).map(function(e){return{dataIndex:e.dataIndex.map(function(e){var t;return null!==(t=e.name)&&void 0!==t?t:e}),title:e.title}}),l.emit("patch",{schema:(N(t={},"x-uid",i["x-uid"]),N(t,"x-action-settings",i["x-action-settings"]),t)}),l.refresh()}}}},{name:"divider",type:"divider"},{name:"delete",type:"remove",useComponentProps:function(){return{removeParentsIfNoChildren:!0,breakRemoveOn:function(e){return"Space"===e["x-component"]||e["x-component"].endsWith("ActionBar")},confirm:{title:(0,(0,E.useTranslation)().t)("Delete action")}}}}]});function L(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function U(e,t,n){return(U=J()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&H(o,n.prototype),o}).apply(null,arguments)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t="function"==typeof Map?new Map:void 0;return(W=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return U(e,arguments,V(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),H(r,e)})(e)}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J=function(){return!!e})()}var Y=function(e){var t,n,r;function o(){var e,t,n;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=this,t=o,n=arguments,t=V(t),function(e,t){return t&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)||"function"==typeof t)?t:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J()?Reflect.construct(t,n||[],V(e).constructor):t.apply(e,n))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(o,e),t=o,n=[{key:"load",value:function(){var e,t=this;return(e=function(){var e,n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,function(r){return t.app.use(T),e={title:"{{t('Export')}}",Component:"ExportActionInitializer",schema:{"x-align":"right","x-decorator":"ACLActionProvider","x-acl-action-props":{skipScopeCheck:!0}},useVisible:function(){return(0,m.useActionAvailable)("export")}},null==(n=t.app.schemaInitializerManager.get("table:configureActions"))||n.add("enableActions.export",e),t.app.schemaInitializerManager.addItem("gantt:configureActions","enableActions.export",e),t.app.schemaSettingsManager.add(G),[2]})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,l,"next",e)}function l(e){L(i,r,o,a,l,"throw",e)}a(void 0)})})()}}],$(t.prototype,n),o}(W(m.Plugin)),K=Y;return f}()});