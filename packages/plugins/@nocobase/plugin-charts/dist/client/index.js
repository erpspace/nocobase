/**
 * This file is part of the NocoBase (R) project.
 * Copyright (c) 2020-2024 NocoBase Co., Ltd.
 * Authors: NocoBase Team.
 *
 * This project is dual-licensed under AGPL-3.0 and NocoBase Commercial License.
 * For more information, please refer to: https://www.nocobase.com/agreement.
 */

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@nocobase/client"),require("@ant-design/icons"),require("@formily/react"),require("@formily/antd-v5"),require("react-i18next"),require("react"),require("@formily/shared"),require("@nocobase/utils/client"),require("@formily/core"),require("lodash"),require("antd"),require("react-router-dom")):"function"==typeof define&&define.amd?define("@nocobase/plugin-charts",["@nocobase/client","@ant-design/icons","@formily/react","@formily/antd-v5","react-i18next","react","@formily/shared","@nocobase/utils/client","@formily/core","lodash","antd","react-router-dom"],t):"object"==typeof exports?exports["@nocobase/plugin-charts"]=t(require("@nocobase/client"),require("@ant-design/icons"),require("@formily/react"),require("@formily/antd-v5"),require("react-i18next"),require("react"),require("@formily/shared"),require("@nocobase/utils/client"),require("@formily/core"),require("lodash"),require("antd"),require("react-router-dom")):e["@nocobase/plugin-charts"]=t(e["@nocobase/client"],e["@ant-design/icons"],e["@formily/react"],e["@formily/antd-v5"],e["react-i18next"],e.react,e["@formily/shared"],e["@nocobase/utils/client"],e["@formily/core"],e.lodash,e.antd,e["react-router-dom"])}(self,function(e,t,u,r,n,o,i,a,c,l,s,D){return function(){var p={867:function(e){var t,u;t=0,u=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,u,r,n,o,i,a,c,l,s,D,p,f,m,d,C=e(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),F=e(function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)});F.version;var y=function(e){return"object"==typeof e?null!==e:"function"==typeof e},E=function(e){if(!y(e))throw TypeError(e+" is not an object!");return e},A=function(e){try{return!!e()}catch(e){return!0}},h=!A(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),v=C.document,b=y(v)&&y(v.createElement),g=!h&&!A(function(){var e;return 7!=Object.defineProperty((e="div",b?v.createElement("div"):{}),"a",{get:function(){return 7}}).a}),B=function(e,t){var u,r;if(!y(e))return e;if(t&&"function"==typeof(u=e.toString)&&!y(r=u.call(e))||"function"==typeof(u=e.valueOf)&&!y(r=u.call(e))||!t&&"function"==typeof(u=e.toString)&&!y(r=u.call(e)))return r;throw TypeError("Can't convert object to primitive value")},x=Object.defineProperty,S={f:h?Object.defineProperty:function(e,t,u){if(E(e),t=B(t,!0),E(u),g)try{return x(e,t,u)}catch(e){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(e[t]=u.value),e}},w=h?function(e,t,u){var r;return S.f(e,t,{enumerable:!1,configurable:!(2&(r=1)),writable:!(4&r),value:u})}:function(e,t,u){return e[t]=u,e},O={}.hasOwnProperty,P=function(e,t){return O.call(e,t)},j=0,I=Math.random(),k=e(function(e){var t="__core-js_shared__",u=C[t]||(C[t]={});(e.exports=function(e,t){return u[e]||(u[e]=void 0!==t?t:{})})("versions",[]).push({version:F.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})("native-function-to-string",Function.toString),M=e(function(e){var t,u=(t="src","Symbol(".concat(t,")_",(++j+I).toString(36))),r="toString",n=(""+k).split(r);F.inspectSource=function(e){return k.call(e)},(e.exports=function(e,t,r,o){var i="function"==typeof r;if(i&&(P(r,"name")||w(r,"name",t)),e[t]!==r)i&&(P(r,u)||w(r,u,e[t]?""+e[t]:n.join(String(t)))),e===C?e[t]=r:o?e[t]?e[t]=r:w(e,t,r):(delete e[t],w(e,t,r))})(Function.prototype,r,function(){return"function"==typeof this&&this[u]||k.call(this)})}),N=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},q=function(e,t,u){if(N(e),void 0===t)return e;switch(u){case 1:return function(u){return e.call(t,u)};case 2:return function(u,r){return e.call(t,u,r)};case 3:return function(u,r,n){return e.call(t,u,r,n)}}return function(){return e.apply(t,arguments)}},z="prototype",L=function(e,t,u){var r,n,o,i,a=e&L.F,c=e&L.G,l=e&L.S,s=e&L.P,D=e&L.B,p=c?C:l?C[t]||(C[t]={}):(C[t]||{})[z],f=c?F:F[t]||(F[t]={}),m=f[z]||(f[z]={});for(r in c&&(u=t),u)o=((n=!a&&p&&void 0!==p[r])?p:u)[r],i=D&&n?q(o,C):s&&"function"==typeof o?q(Function.call,o):o,p&&M(p,r,o,e&L.U),f[r]!=o&&w(f,r,i),s&&m[r]!=o&&(m[r]=o)};C.core=F,L.F=1,L.G=2,L.S=4,L.P=8,L.B=16,L.W=32,L.U=64,L.R=128;var T=Math.ceil,R=Math.floor,V=function(e){return isNaN(e=+e)?0:(e>0?R:T)(e)},_=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e};var G=(t=!1,function(e,u){var r,n,o=String(_(e)),i=V(u),a=o.length;return i<0||i>=a?t?"":void 0:(r=o.charCodeAt(i))<55296||r>56319||i+1===a||(n=o.charCodeAt(i+1))<56320||n>57343?t?o.charAt(i):r:t?o.slice(i,i+2):(r-55296<<10)+(n-56320)+65536});L(L.P,"String",{codePointAt:function(e){return G(this,e)}}),F.String.codePointAt;var J=Math.max,Q=Math.min,U=String.fromCharCode,$=String.fromCodePoint;L(L.S+L.F*(!!$&&1!=$.length),"String",{fromCodePoint:function(e){for(var t,u,r,n=arguments,o=[],i=arguments.length,a=0;i>a;){;if(u=1114111,((t=V(t=r=+n[a++]))<0?J(t+1114111,0):Q(t,u))!==r)throw RangeError(r+" is not a valid code point");o.push(r<65536?U(r):U(((r-=65536)>>10)+55296,r%1024+56320))}return o.join("")}}),F.String.fromCodePoint;var Z={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},H={isSpaceSeparator:function(e){return"string"==typeof e&&Z.Space_Separator.test(e)},isIdStartChar:function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||Z.ID_Start.test(e))},isIdContinueChar:function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||"‌"===e||"‍"===e||Z.ID_Continue.test(e))},isDigit:function(e){return"string"==typeof e&&/[0-9]/.test(e)},isHexDigit:function(e){return"string"==typeof e&&/[0-9A-Fa-f]/.test(e)}};function K(){if(u[o])return String.fromCodePoint(u.codePointAt(o))}function W(){var e=K();return"\n"===e?(i++,a=0):e?a+=e.length:a++,e&&(o+=e.length),e}var X={default:function(){switch(d){case"	":case"\v":case"\f":case" ":case"\xa0":case"\uFEFF":case"\n":case"\r":case"\u2028":case"\u2029":W();return;case"/":W(),D="comment";return;case void 0:return W(),Y("eof")}if(H.isSpaceSeparator(d)){W();return}return X[r]()},comment:function(){switch(d){case"*":W(),D="multiLineComment";return;case"/":W(),D="singleLineComment";return}throw eo(W())},multiLineComment:function(){switch(d){case"*":W(),D="multiLineCommentAsterisk";return;case void 0:throw eo(W())}W()},multiLineCommentAsterisk:function(){switch(d){case"*":W();return;case"/":W(),D="default";return;case void 0:throw eo(W())}W(),D="multiLineComment"},singleLineComment:function(){switch(d){case"\n":case"\r":case"\u2028":case"\u2029":W(),D="default";return;case void 0:return W(),Y("eof")}W()},value:function(){switch(d){case"{":case"[":return Y("punctuator",W());case"n":return W(),ee("ull"),Y("null",null);case"t":return W(),ee("rue"),Y("boolean",!0);case"f":return W(),ee("alse"),Y("boolean",!1);case"-":case"+":"-"===W()&&(m=-1),D="sign";return;case".":p=W(),D="decimalPointLeading";return;case"0":p=W(),D="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p=W(),D="decimalInteger";return;case"I":return W(),ee("nfinity"),Y("numeric",1/0);case"N":return W(),ee("aN"),Y("numeric",NaN);case'"':case"'":f='"'===W(),p="",D="string";return}throw eo(W())},identifierNameStartEscape:function(){if("u"!==d)throw eo(W());W();var e=et();switch(e){case"$":case"_":break;default:if(!H.isIdStartChar(e))throw ea()}p+=e,D="identifierName"},identifierName:function(){switch(d){case"$":case"_":case"‌":case"‍":p+=W();return;case"\\":W(),D="identifierNameEscape";return}if(H.isIdContinueChar(d)){p+=W();return}return Y("identifier",p)},identifierNameEscape:function(){if("u"!==d)throw eo(W());W();var e=et();switch(e){case"$":case"_":case"‌":case"‍":break;default:if(!H.isIdContinueChar(e))throw ea()}p+=e,D="identifierName"},sign:function(){switch(d){case".":p=W(),D="decimalPointLeading";return;case"0":p=W(),D="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p=W(),D="decimalInteger";return;case"I":return W(),ee("nfinity"),Y("numeric",1/0*m);case"N":return W(),ee("aN"),Y("numeric",NaN)}throw eo(W())},zero:function(){switch(d){case".":p+=W(),D="decimalPoint";return;case"e":case"E":p+=W(),D="decimalExponent";return;case"x":case"X":p+=W(),D="hexadecimal";return}return Y("numeric",0*m)},decimalInteger:function(){switch(d){case".":p+=W(),D="decimalPoint";return;case"e":case"E":p+=W(),D="decimalExponent";return}if(H.isDigit(d)){p+=W();return}return Y("numeric",m*Number(p))},decimalPointLeading:function(){if(H.isDigit(d)){p+=W(),D="decimalFraction";return}throw eo(W())},decimalPoint:function(){switch(d){case"e":case"E":p+=W(),D="decimalExponent";return}if(H.isDigit(d)){p+=W(),D="decimalFraction";return}return Y("numeric",m*Number(p))},decimalFraction:function(){switch(d){case"e":case"E":p+=W(),D="decimalExponent";return}if(H.isDigit(d)){p+=W();return}return Y("numeric",m*Number(p))},decimalExponent:function(){switch(d){case"+":case"-":p+=W(),D="decimalExponentSign";return}if(H.isDigit(d)){p+=W(),D="decimalExponentInteger";return}throw eo(W())},decimalExponentSign:function(){if(H.isDigit(d)){p+=W(),D="decimalExponentInteger";return}throw eo(W())},decimalExponentInteger:function(){if(H.isDigit(d)){p+=W();return}return Y("numeric",m*Number(p))},hexadecimal:function(){if(H.isHexDigit(d)){p+=W(),D="hexadecimalInteger";return}throw eo(W())},hexadecimalInteger:function(){if(H.isHexDigit(d)){p+=W();return}return Y("numeric",m*Number(p))},string:function(){switch(d){case"\\":W(),p+=function(){switch(K()){case"b":return W(),"\b";case"f":return W(),"\f";case"n":return W(),"\n";case"r":return W(),"\r";case"t":return W(),"	";case"v":return W(),"\v";case"0":if(W(),H.isDigit(K()))throw eo(W());return"\0";case"x":return W(),function(){var e="",t=K();if(!H.isHexDigit(t))throw eo(W());if(e+=W(),t=K(),!H.isHexDigit(t))throw eo(W());return String.fromCodePoint(parseInt(e+=W(),16))}();case"u":return W(),et();case"\n":case"\u2028":case"\u2029":return W(),"";case"\r":return W(),"\n"===K()&&W(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw eo(W())}return W()}();return;case'"':if(f)return W(),Y("string",p);p+=W();return;case"'":if(!f)return W(),Y("string",p);p+=W();return;case"\n":case"\r":case void 0:throw eo(W());case"\u2028":case"\u2029":(function(e){console.warn("JSON5: '"+ec(e)+"' in strings is not valid ECMAScript; consider escaping")})(d)}p+=W()},start:function(){switch(d){case"{":case"[":return Y("punctuator",W())}D="value"},beforePropertyName:function(){switch(d){case"$":case"_":p=W(),D="identifierName";return;case"\\":W(),D="identifierNameStartEscape";return;case"}":return Y("punctuator",W());case'"':case"'":f='"'===W(),D="string";return}if(H.isIdStartChar(d)){p+=W(),D="identifierName";return}throw eo(W())},afterPropertyName:function(){if(":"===d)return Y("punctuator",W());throw eo(W())},beforePropertyValue:function(){D="value"},afterPropertyValue:function(){switch(d){case",":case"}":return Y("punctuator",W())}throw eo(W())},beforeArrayValue:function(){if("]"===d)return Y("punctuator",W());D="value"},afterArrayValue:function(){switch(d){case",":case"]":return Y("punctuator",W())}throw eo(W())},end:function(){throw eo(W())}};function Y(e,t){return{type:e,value:t,line:i,column:a}}function ee(e){for(var t=0;t<e.length;t+=1){var u=e[t];if(K()!==u)throw eo(W());W()}}function et(){for(var e="",t=4;t-- >0;){var u=K();if(!H.isHexDigit(u))throw eo(W());e+=W()}return String.fromCodePoint(parseInt(e,16))}var eu={start:function(){if("eof"===c.type)throw ei();er()},beforePropertyName:function(){switch(c.type){case"identifier":case"string":l=c.value,r="afterPropertyName";return;case"punctuator":en();return;case"eof":throw ei()}},afterPropertyName:function(){if("eof"===c.type)throw ei();r="beforePropertyValue"},beforePropertyValue:function(){if("eof"===c.type)throw ei();er()},beforeArrayValue:function(){if("eof"===c.type)throw ei();if("punctuator"===c.type&&"]"===c.value){en();return}er()},afterPropertyValue:function(){if("eof"===c.type)throw ei();switch(c.value){case",":r="beforePropertyName";return;case"}":en()}},afterArrayValue:function(){if("eof"===c.type)throw ei();switch(c.value){case",":r="beforeArrayValue";return;case"]":en()}},end:function(){}};function er(){var e;switch(c.type){case"punctuator":switch(c.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=c.value}if(void 0===s)s=e;else{var t=n[n.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,l,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(null!==e&&"object"==typeof e)n.push(e),r=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{var u=n[n.length-1];r=null==u?"end":Array.isArray(u)?"afterArrayValue":"afterPropertyValue"}}function en(){n.pop();var e=n[n.length-1];r=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function eo(e){return void 0===e?el("JSON5: invalid end of input at "+i+":"+a):el("JSON5: invalid character '"+ec(e)+"' at "+i+":"+a)}function ei(){return el("JSON5: invalid end of input at "+i+":"+a)}function ea(){return a-=5,el("JSON5: invalid identifier character at "+i+":"+a)}function ec(e){var t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){var u=e.charCodeAt(0).toString(16);return"\\x"+("00"+u).substring(u.length)}return e}function el(e){var t=SyntaxError(e);return t.lineNumber=i,t.columnNumber=a,t}return{parse:function(e,t){u=String(e),r="start",n=[],o=0,i=1,a=0,c=void 0,l=void 0,s=void 0;do c=function(){for(D="default",p="",f=!1,m=1;;){d=K();var e=X[D]();if(e)return e}}(),eu[r]();while("eof"!==c.type);return"function"==typeof t?function e(t,u,r){var n=t[u];if(null!=n&&"object"==typeof n){if(Array.isArray(n))for(var o=0;o<n.length;o++){var i=String(o),a=e(n,i,r);void 0===a?delete n[i]:Object.defineProperty(n,i,{value:a,writable:!0,enumerable:!0,configurable:!0})}else for(var c in n){var l=e(n,c,r);void 0===l?delete n[c]:Object.defineProperty(n,c,{value:l,writable:!0,enumerable:!0,configurable:!0})}}return r.call(t,u,n)}({"":s},"",t):s},stringify:function(e,t,u){var r,n,o,i=[],a="",c="";if(null!=t&&"object"==typeof t&&!Array.isArray(t)&&(u=t.space,o=t.quote,t=t.replacer),"function"==typeof t)n=t;else if(Array.isArray(t)){r=[];for(var l=0,s=t;l<s.length;l+=1){var D=s[l],p=void 0;"string"==typeof D?p=D:("number"==typeof D||D instanceof String||D instanceof Number)&&(p=String(D)),void 0!==p&&0>r.indexOf(p)&&r.push(p)}}return u instanceof Number?u=Number(u):u instanceof String&&(u=String(u)),"number"==typeof u?u>0&&(u=Math.min(10,Math.floor(u)),c="          ".substr(0,u)):"string"==typeof u&&(c=u.substr(0,10)),f("",{"":e});function f(e,t){var u=t[e];switch(null!=u&&("function"==typeof u.toJSON5?u=u.toJSON5(e):"function"==typeof u.toJSON&&(u=u.toJSON(e))),n&&(u=n.call(t,e,u)),u instanceof Number?u=Number(u):u instanceof String?u=String(u):u instanceof Boolean&&(u=u.valueOf()),u){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof u?m(u,!1):"number"==typeof u?String(u):"object"==typeof u?Array.isArray(u)?function(e){if(i.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");i.push(e);var t,u=a;a+=c;for(var r=[],n=0;n<e.length;n++){var o=f(String(n),e);r.push(void 0!==o?o:"null")}if(0===r.length)t="[]";else if(""===c)t="["+r.join(",")+"]";else{var l=",\n"+a,s=r.join(l);t="[\n"+a+s+",\n"+u+"]"}return i.pop(),a=u,t}(u):function(e){if(i.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");i.push(e);var t,u,n=a;a+=c;for(var o=r||Object.keys(e),l=[],s=0;s<o.length;s+=1){var D=o[s],p=f(D,e);if(void 0!==p){var d=function(e){if(0===e.length)return m(e,!0);var t=String.fromCodePoint(e.codePointAt(0));if(!H.isIdStartChar(t))return m(e,!0);for(var u=t.length;u<e.length;u++)if(!H.isIdContinueChar(String.fromCodePoint(e.codePointAt(u))))return m(e,!0);return e}(D)+":";""!==c&&(d+=" "),d+=p,l.push(d)}}if(0===l.length)t="{}";else if(""===c)t="{"+(u=l.join(","))+"}";else{var C=",\n"+a;u=l.join(C),t="{\n"+a+u+",\n"+n+"}"}return i.pop(),a=n,t}(u):void 0}function m(e){for(var t={"'":.1,'"':.2},u={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},r="",n=0;n<e.length;n++){var i=e[n];switch(i){case"'":case'"':t[i]++,r+=i;continue;case"\0":if(H.isDigit(e[n+1])){r+="\\x00";continue}}if(u[i]){r+=u[i];continue}if(i<" "){var a=i.charCodeAt(0).toString(16);r+="\\x"+("00"+a).substring(a.length);continue}r+=i}var c=o||Object.keys(t).reduce(function(e,u){return t[e]<t[u]?e:u});return r=r.replace(RegExp(c,"g"),u[c]),c+r+c}}}},e.exports=u()},482:function(e){"use strict";e.exports=t},632:function(e){"use strict";e.exports=r},563:function(e){"use strict";e.exports=c},505:function(e){"use strict";e.exports=u},875:function(e){"use strict";e.exports=i},772:function(t){"use strict";t.exports=e},584:function(e){"use strict";e.exports=a},721:function(e){"use strict";e.exports=s},467:function(e){"use strict";e.exports=l},156:function(e){"use strict";e.exports=o},238:function(e){"use strict";e.exports=n},128:function(e){"use strict";e.exports=D}},f={};function m(e){var t=f[e];if(void 0!==t)return t.exports;var u=f[e]={exports:{}};return p[e].call(u.exports,u,u.exports,m),u.exports}m.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return m.d(t,{a:t}),t},m.d=function(e,t){for(var u in t)m.o(t,u)&&!m.o(e,u)&&Object.defineProperty(e,u,{enumerable:!0,get:t[u]})},m.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},m.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};return!function(){"use strict";m.r(d),m.d(d,{ChartsPlugin:function(){return tF},default:function(){return ty}});var e=m("563"),t=m("772"),u=m("867"),r=m.n(u),n=m("156"),o=m.n(n),i=m("721"),a=m("632"),c=m("505"),l=m("584"),s=m("238"),D=m("482");function p(e,t,u,r,n,o,i){try{var a=e[o](i),c=a.value}catch(e){u(e);return}a.done?t(c):Promise.resolve(c).then(r,n)}m("128");var f=(0,n.createContext)({refresh:function(){},data:[]});f.displayName="ChartQueryMetadataContext";var C=function(e){return o().createElement(o().Fragment,null,e.children)},F=function(){return(0,n.useContext)(f)},y="charts";function E(e){return t.i18n.t(e,{ns:y})}var A=m("467"),h=m.n(A),v={json:{type:"object",properties:{data:{title:"JSON",required:!0,"x-component":"Input.TextArea","x-validator":{json5:!0},"x-component-props":{autoSize:{maxRows:20,minRows:10}},"x-decorator":"FormItem"}}},sql:{type:"object",properties:{sql:{title:"SQL",required:!0,"x-component":"Input.TextArea","x-decorator":"FormItem","x-validator":{triggerType:"onBlur",validator:"{{validateSQL}}"},"x-component-props":{autoSize:{maxRows:20,minRows:10}}}}},api:{type:"object",properties:{api:{title:"API",required:!0,"x-component":"Input","x-decorator":"FormItem"}}}},b=function(e){return h().cloneDeep(v[e])};function g(e,t,u,r,n,o,i){try{var a=e[o](i),c=a.value}catch(e){u(e);return}a.done?t(c):Promise.resolve(c).then(r,n)}function B(e){return function(){var t=this,u=arguments;return new Promise(function(r,n){var o=e.apply(t,u);function i(e){g(o,r,n,i,a,"next",e)}function a(e){g(o,r,n,i,a,"throw",e)}i(void 0)})}}function x(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}function S(e,t){var u,r,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(u)throw TypeError("Generator is already executing.");for(;i;)try{if(u=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{u=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var w=function(e){e.templateWrap;var u,r,i,s=e.onCreateBlockSchema,p=(e.componentType,e.createBlockSchema,function(e,t){if(null==e)return{};var u,r,n=function(e,t){if(null==e)return{};var u,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)u=o[r],!(t.indexOf(u)>=0)&&(n[u]=e[u]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){if(u=o[r],!(t.indexOf(u)>=0))Object.prototype.propertyIsEnumerable.call(e,u)&&(n[u]=e[u])}}return n}(e,["templateWrap","onCreateBlockSchema","componentType","createBlockSchema"])),f=(0,t.useSchemaInitializer)().setVisible,m=(0,t.useAPIClient)(),d=F(),C=(0,n.useContext)(c.SchemaOptionsContext),y=(0,t.useGlobalTheme)().theme,A=(0,n.useCallback)(function(e){var u;(0,t.FormDialog)({sql:E("Add SQL query"),json:E("Add JSON query")}[e.key],function(){return o().createElement("div",null,o().createElement(t.SchemaComponentOptions,{scope:C.scope,components:x({},C.components)},o().createElement(a.FormLayout,{layout:"vertical"},o().createElement(t.SchemaComponent,{schema:{type:"object",properties:{title:{title:E("Title"),required:!0,"x-component":"Input","x-decorator":"FormItem"},options:b(e.key)}}}))))},y).open({initialValues:{type:e.key}}).then((u=B(function(e){var t,u,r;return S(this,function(n){switch(n.label){case 0:if(n.trys.push([0,4,,5]),!(null===(t=m.resource("chartsQueries"))||void 0===t?void 0:t.create))return[3,3];return[4,m.resource("chartsQueries").create({values:e})];case 1:return u=n.sent().data,[4,d.refresh()];case 2:s({item:n.sent().find(function(e){var t;return e.id===(null==u?void 0:null===(t=u.data)||void 0===t?void 0:t.id)})}),n.label=3;case 3:return f(!1),[3,5];case 4:return r=n.sent(),(0,l.error)(r),[3,5];case 5:return[2]}})}),function(e){return u.apply(this,arguments)})).catch(function(e){(0,l.error)(e)})},[m,d,s,C.components,C.scope,f]),h=(0,n.useMemo)(function(){var e=[{type:"itemGroup",title:E("Select query data"),children:[]}],t=d.data;return t&&Array.isArray(t)?[t.length>0?{type:"itemGroup",title:'{{t("Select chart query", {ns: "charts"})}}',children:t}:null,t.length>0?{type:"divider"}:null,{type:"subMenu",title:E("Add chart query"),children:[{key:"sql",type:"item",title:"SQL",onClick:A},{key:"json",type:"item",title:"JSON",onClick:A}]}].filter(Boolean):e},[d.data,A]);return o().createElement(t.SchemaInitializerItem,(r=x({icon:o().createElement(D.TableOutlined,null)},p),i=(i={onClick:(u=B(function(e){return S(this,function(t){return s({item:e.item}),f(!1),[2]})}),function(e){return u.apply(this,arguments)}),items:h},i),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);u.push.apply(u,r)}return u})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r))};function O(e){var u=e.queryId,r=e.fields,n=eb(u),a=n.dataSet,c=n.loading,l=n.error,s={};if(r){var D=!0,p=!1,f=void 0;try{for(var m,d=r[Symbol.iterator]();!(D=(m=d.next()).done);D=!0){var C,F,y,E=m.value;s[E.name]={type:"void",title:E.name,"x-component":"TableV2.Column","x-component-props":{},properties:(C={},F=E.name,y={type:"string","x-component":"Input","x-read-pretty":!0},F in C?Object.defineProperty(C,F,{value:y,enumerable:!0,configurable:!0,writable:!0}):C[F]=y,C)}}}catch(e){p=!0,f=e}finally{try{!D&&null!=d.return&&d.return()}finally{if(p)throw f}}}return l?o().createElement(o().Fragment,null,o().createElement(i.Empty,{description:o().createElement("span",null,"May be this chart block's query data has been deleted,please check!")})):c?o().createElement(o().Fragment,null,o().createElement(i.Spin,null)):(a.forEach(function(e){for(var t in e){var u,r;if(e[t]&&(u=e[t],null!=(r=Object)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](u):u instanceof r))e[t]=JSON.stringify(e[t])}}),o().createElement(t.SchemaComponentProvider,{scope:{dataSet:a},components:{TableV2:t.TableV2,Input:t.Input,FormItem:t.FormItem}},o().createElement(t.SchemaComponent,{schema:{type:"void",properties:{input:{type:"array","x-component":"TableV2","x-component-props":{scroll:{y:300}},default:a,properties:s}}}})))}var P={appendPadding:10,angleField:"{{metric}}",colorField:"{{dimension}}",radius:.9,label:{type:"inner",offset:"-30%",content:"{{({percent}) => `${(percent * 100).toFixed(0)}%`}}",style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},j={description:"1 「Time」 or 「Order Noun」 field, 1 「Value」 field",title:"Pie",type:"Pie",iconId:"icon-pie",group:2,renderComponent:"G2Plot",defaultChartOptions:P,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Sector label / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Sector Angle / Metric",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(P,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Pie | G2Plot","https://g2plot.antv.antgroup.com/api/plots/pie")}}',"x-validator":{json5:!0}}}}}}},I={appendPadding:10,isGroup:!0,yField:"{{dimension}}",xField:"{{metric}}",seriesField:"{{category}}",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!0,autoRotate:!1}}},k={description:"1 「time」 or 「ordered noun」 field, 1 「value」 field, 0~ 1 「unordered noun」",type:"Bar",title:"Bar",iconId:"icon-bar",group:2,renderComponent:"G2Plot",defaultChartOptions:I,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Category axis / Dimension",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Value axis / Metrics",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},category:{type:"string",title:'{{t("Color legend / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(I,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Bar | G2Plot","https://g2plot.antv.antgroup.com/api/plots/bar")}}',"x-validator":{json5:!0}}}}}}},M={appendPadding:10,isGroup:!0,yField:"{{metric}}",xField:"{{dimension}}",seriesField:"{{category}}",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!0,autoRotate:!1}}},N={description:"1 「time」 or 「ordered noun」 field, 1 「value」 field, 0 to 1 「unordered noun」",type:"Column",title:"Column",iconId:"icon-column",group:2,renderComponent:"G2Plot",defaultChartOptions:M,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Category axis / Dimension",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Value axis / Metrics",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},category:{type:"string",title:'{{t("Color legend / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(M,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Column | G2Plot","https://g2plot.antv.antgroup.com/api/plots/column")}}',"x-validator":{json5:!0}}}}}}},q={yField:"{{metric}}",xField:"{{dimension}}",seriesField:"{{category}}",xAxis:{},yAxis:{}},z={description:"1 「Time」 or 「Order Noun」 field, 1 「Value」 field",type:"Line",title:"Line",iconId:"icon-line",group:2,renderComponent:"G2Plot",defaultChartOptions:q,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Category axis / Dimension",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Value axis / Metrics",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},category:{type:"string",title:'{{t("Color legend / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(q,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Line | G2Plot","https://g2plot.antv.antgroup.com/api/plots/line")}}',"x-validator":{json5:!0}}}}}}},L={yField:"{{metric}}",xField:"{{dimension}}",seriesField:"{{category}}"},T={description:"1 「time」or 「Ordered Noun」 field,1 「Numerical」 field,1 「Unordered Noun」 field (optional)",type:"Area",title:"Area",iconId:"icon-area",group:2,renderComponent:"G2Plot",defaultChartOptions:L,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Category axis / Dimension",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Value axis / Metrics",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},category:{type:"string",title:'{{t("Color legend / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(L,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Area | G2Plot","https://g2plot.antv.antgroup.com/api/plots/area")}}',"x-validator":{json5:!0}}}}}}},R={appendPadding:10,xField:"{{metric}}",yField:"{{dimension}}",colorField:"{{category}}",shape:"circle",size:4,yAxis:{nice:!0,line:{style:{stroke:"#aaa"}}},xAxis:{min:-100,grid:{line:{style:{stroke:"#eee"}}},line:{style:{stroke:"#aaa"}}}},V={description:"1 「Numeric」 field, 0~ 1 「Unordered Noun」 field",type:"Scatter",title:"Scatter",iconId:"icon-scatter",group:2,renderComponent:"G2Plot",defaultChartOptions:R,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Category axis / Dimension",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Value axis / Metrics",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},category:{type:"string",title:'{{t("Color legend / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(R,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Scatter | G2Plot","https://g2plot.antv.antgroup.com/api/plots/scatter")}}',"x-validator":{json5:!0}}}}}}},_={xField:"{{dimension}}",yField:"{{metric}}",appendPadding:[0,10,0,10],xAxis:{tickLine:null},yAxis:{label:!1,grid:{alternateColor:"rgba(0, 0, 0, 0.04)"}},point:{size:2},area:{}},G={description:"1~ 2 「Unordered Noun」 fields, 1 「Numeric」 field",type:"Radar",title:"Radar",iconId:"icon-radar",group:1,renderComponent:"G2Plot",defaultChartOptions:_,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Branch Tags/Dimensions",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Branch Length/Metrics",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(_,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Radar | G2Plot","https://g2plot.antv.antgroup.com/api/plots/radar")}}',"x-validator":{json5:!0}}}}}}},J={xField:"{{dimension}}",yField:"{{metric}}",seriesField:"{{category}}",legend:!1},Q={description:"1 「Unordered Noun」 field, 1 「Numeric」 field",type:"Funnel",title:"Funnel",iconId:"icon-funnel",group:1,renderComponent:"G2Plot",defaultChartOptions:J,configurableProperties:{type:"void",properties:{dimension:{required:!0,type:"string",title:'{{t("Sector label / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},metric:{required:!0,type:"string",title:'{{t("Funnel Layer Width/Metrics",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},category:{type:"string",title:'{{t("Color legend / Dimensional",{ns:"charts"})}}',"x-decorator":"FormItem","x-component":"Select",enum:"{{dataSource}}"},jsonConfig:{type:"void","x-component":"div",properties:{template:{required:!0,title:'{{t("JSON config",{ns:"charts"})}}',type:"string",default:r().stringify(J,null,2),"x-decorator":"FormItem","x-component":"Input.TextArea","x-component-props":{autoSize:{minRows:8,maxRows:16}},description:'{{jsonConfigDesc("Funnel | G2Plot","https://g2plot.antv.antgroup.com/api/plots/funnel")}}',"x-validator":{json5:!0}}}}}}},U=new Map;function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=Array(t);u<t;u++)r[u]=e[u];return r}U.set("Pie",j),U.set("Line",z),U.set("Area",T),U.set("Bar",k),U.set("Column",N),U.set("Scatter",V),U.set("Radar",G),U.set("Funnel",Q);function Z(e,t,u,r,n,o,i){try{var a=e[o](i),c=a.value}catch(e){u(e);return}a.done?t(c):Promise.resolve(c).then(r,n)}function H(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var u,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(o.push(u.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw r}}return o}}(e,t)||X(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){return!t&&(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function X(e,t){if(e){if("string"==typeof e)return $(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);if("Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u)return Array.from(u);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return $(e,t)}}function Y(){var e=W(["\n                      display: flex;\n                      gap: 24px;\n                    "]);return Y=function(){return e},e}function ee(){var e=W(["\n                        flex: 1;\n                      "]);return ee=function(){return e},e}function et(){var e=W(["\n                        flex: 1;\n                        min-width: 600px;\n                      "]);return et=function(){return e},e}function eu(){var e=W(["\n                          margin-top: 24px;\n                          overflow: scroll;\n                        "]);return eu=function(){return e},e}var er=(0,c.observer)(function(e){var u=(0,c.useForm)();(0,c.useField)();var r=K((0,n.useState)(new c.Schema({})),2),i=r[0],a=r[1],l=K((0,n.useState)(u.values.type),2),s=l[0],D=l[1];return(0,n.useEffect)(function(){var e,t;if(D(null==u?void 0:null===(e=u.values)||void 0===e?void 0:e.type),s!==(null==u?void 0:null===(t=u.values)||void 0===t?void 0:t.type)&&u.clearFormGraph("options.*"),u.values.type){var r=U.get(u.values.type);a(new c.Schema(r.configurableProperties||{}))}},[u.values.type]),o().createElement(t.NocoBaseRecursionField,{schema:i})},{displayName:"Options"}),en=function(e){var u,l,s,D,p=(0,t.useSchemaInitializer)().insert,f=(0,n.useContext)(c.SchemaOptionsContext),m=(0,t.useAPIClient)(),d=(0,t.useCompile)(),C=(0,t.useGlobalTheme)().theme;return o().createElement(w,(s=H({},e),D=(D={componentType:"Charts",onCreateBlockSchema:(l=(u=function(e){var u,l,s,D;return function(e,t){var u,r,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(u)throw TypeError("Generator is already executing.");for(;i;)try{if(u=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{u=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(F){switch(F.label){case 0:return l=null==(u=e.item)?void 0:u.fields.map(function(e){return{label:e.name,value:e.name}}),[4,(0,t.FormDialog)({okText:d('{{t("Submit")}}'),title:E("Create chart block"),width:1200,bodyStyle:{background:"var(--nb-box-bg)",maxHeight:"65vh",overflow:"auto"}},function(){var e,s,D,p=(0,c.useForm)(),d=K((0,n.useState)(null),2),C=d[0],F=d[1];return(0,n.useEffect)(function(){F({query:{id:null==u?void 0:u.id},chart:p.values})},[p.values.type]),o().createElement(t.APIClientProvider,{apiClient:m},o().createElement(t.SchemaComponentOptions,{scope:f.scope,components:H({},f.components)},o().createElement("section",{className:(0,t.css)(Y())},o().createElement(i.Card,{title:E("Chart config"),size:"default",className:(0,t.css)(ee())},o().createElement(t.FormProvider,{form:p},o().createElement(a.FormLayout,{layout:"vertical"},o().createElement(t.SchemaComponent,{scope:{dataSource:l,JSON5:r(),jsonConfigDesc:eC},components:{Options:er},schema:{properties:{type:{title:E("Chart type"),required:!0,"x-component":"CustomSelect","x-decorator":"FormItem",enum:((function(e){if(Array.isArray(e))return $(e)})(e=U.values())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return{title:e.title,key:e.type,description:e.description,group:e.group,iconId:e.iconId}})},options:{type:"void","x-component":"Options"}}}})))),o().createElement("div",{className:(0,t.css)(et())},o().createElement(i.Card,{size:"default",title:E("Chart preview")},C&&o().createElement(o().Fragment,null,o().createElement(t.SchemaComponent,{schema:{properties:{chartPreview:{type:"void","x-decorator":"CardItem","x-component":"ChartBlockEngine","x-component-props":{chartBlockEngineMetaData:C}}}}}))),o().createElement(i.Card,{size:"default",title:E("Data preview"),className:(0,t.css)(eu())},(null==C?void 0:null===(s=C.query)||void 0===s?void 0:s.id)&&o().createElement(O,{queryId:null==C?void 0:null===(D=C.query)||void 0===D?void 0:D.id,fields:null==u?void 0:u.fields}))))))},C).open({initialValues:{}})];case 1:return(s=F.sent())&&(D={query:{id:u.id},chart:s},p({type:"void",title:null==s?void 0:s.title,"x-designer":"ChartBlockEngine.Designer","x-decorator":"CardItem","x-component":"ChartBlockEngine","x-component-props":{chartBlockEngineMetaData:D}})),[2]}})},function(){var e=this,t=arguments;return new Promise(function(r,n){var o=u.apply(e,t);function i(e){Z(o,r,n,i,a,"next",e)}function a(e){Z(o,r,n,i,a,"throw",e)}i(void 0)})}),function(e){return l.apply(this,arguments)})},D),Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(D)):(function(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);u.push.apply(u,r)}return u})(Object(D)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(D,e))}),s))};function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=Array(t);u<t;u++)r[u]=e[u];return r}var ei=function(e){var t,u,r=(t=(0,n.useState)([]),u=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var u,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(o.push(u.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);if("Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u)return Array.from(u);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return eo(e,t)}}(t,u)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],a=F();return(0,n.useEffect)(function(){var t=null==a?void 0:a.data;if(t&&Array.isArray(t)){var u=t.find(function(t){return t.id===e});i((null==u?void 0:u.fields)||[])}},[e]),{fields:o}};function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=Array(t);u<t;u++)r[u]=e[u];return r}function ec(e,t,u,r,n,o,i){try{var a=e[o](i),c=a.value}catch(e){u(e);return}a.done?t(c):Promise.resolve(c).then(r,n)}function el(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}function es(e,t){return!t&&(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function eD(e,t){if(e){if("string"==typeof e)return ea(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);if("Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u)return Array.from(u);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ea(e,t)}}function ep(){var e=es(["\n                      display: flex;\n                      gap: 24px;\n                    "]);return ep=function(){return e},e}function ef(){var e=es(["\n                        flex: 1;\n                      "]);return ef=function(){return e},e}function em(){var e=es(["\n                        flex: 1;\n                        min-width: 600px;\n                      "]);return em=function(){return e},e}function ed(){var e=es(["\n                          margin-top: 24px;\n                          overflow: scroll;\n                        "]);return ed=function(){return e},e}var eC=function(e,t){return o().createElement("span",null,E("Json config references: "),o().createElement("a",{href:t,target:"_blank",rel:"noreferrer"},E(e)))},eF=function(e){var u,D=e.chartBlockEngineMetaData,p=(0,s.useTranslation)().t,f=(0,n.useContext)(c.SchemaOptionsContext),m=(0,t.useDesignable)().dn,d=(0,c.useFieldSchema)(),C=(0,t.useAPIClient)(),F=(0,c.useField)(),y=(0,t.useCompile)(),A=D.chart,v=D.query,b=ei(v.id).fields,g=(0,t.useGlobalTheme)().theme,B=b.map(function(e){return{label:e.name,value:e.name}});return o().createElement(t.SchemaSettingsItem,{title:e.title||"Edit chart block",onClick:(u=function(){return function(e,t){var u,r,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(u)throw TypeError("Generator is already executing.");for(;i;)try{if(u=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{u=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(e){return(0,t.FormDialog)({okText:y('{{t("Submit")}}'),title:E("Edit chart block"),width:1200,bodyStyle:{background:"var(--nb-box-bg)",maxHeight:"65vh",overflow:"auto"}},function(e){var u,c,l,s,D,m=(c=(0,n.useState)(null),l=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var u,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(o.push(u.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw r}}return o}}(c,2)||eD(c,l)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=m[0],F=m[1];return(0,n.useEffect)(function(){F({query:{id:null==v?void 0:v.id},chart:e.values})},[e.values.type]),o().createElement(t.APIClientProvider,{apiClient:C},o().createElement(t.SchemaComponentOptions,{scope:f.scope,components:el({},f.components)},o().createElement("section",{className:(0,t.css)(ep())},o().createElement(i.Card,{bordered:!1,title:t.i18n.t("Chart config"),size:"default",className:(0,t.css)(ef())},o().createElement(a.FormLayout,{layout:"vertical"},o().createElement(t.SchemaComponent,{scope:{dataSource:B,JSON5:r(),jsonConfigDesc:eC},components:{Options:er},schema:{properties:{type:{title:p("Chart type"),required:!0,"x-component":"CustomSelect","x-decorator":"FormItem",enum:((function(e){if(Array.isArray(e))return ea(e)})(u=U.values())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||eD(u)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return{title:e.title,key:e.type,description:e.description,group:e.group,iconId:e.iconId}})},options:{type:"void","x-component":"Options"}}}}))),o().createElement("div",{className:(0,t.css)(em())},o().createElement(i.Card,{size:"default",title:E("Chart preview")},d&&o().createElement(o().Fragment,null,o().createElement(t.SchemaComponent,{schema:{properties:{chartPreview:{type:"void","x-decorator":"CardItem","x-component":"ChartBlockEngine","x-component-props":{chartBlockEngineMetaData:d}}}}}))),o().createElement(i.Card,{size:"default",title:E("Data preview"),className:(0,t.css)(ed())},(null==d?void 0:null===(s=d.query)||void 0===s?void 0:s.id)&&o().createElement(O,{queryId:null==d?void 0:null===(D=d.query)||void 0===D?void 0:D.id,fields:b}))))))},g).open({initialValues:el({},A)}).then(function(e){e={query:v,chart:e},F.title=e.chart.title,d.title=e.chart.title,F.componentProps.chartBlockEngineMetaData=e,h().set(d,"x-component-props.chartBlockEngineMetaData",e),m.emit("patch",{schema:{"x-uid":d["x-uid"],"x-component-props":d["x-component-props"]}}),m.refresh()}).catch(function(e){(0,l.error)(e)}),[2]})},function(){var e=this,t=arguments;return new Promise(function(r,n){var o=u.apply(e,t);function i(e){ec(o,r,n,i,a,"next",e)}function a(e){ec(o,r,n,i,a,"throw",e)}i(void 0)})})},e.children||e.title||E("Edit chart block"))},ey=new Map;ey.set("G2Plot",t.G2Plot),ey.set("DataSetPreviewTable",O);function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=Array(t);u<t;u++)r[u]=e[u];return r}function eA(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}function eh(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);u.push.apply(u,r)}return u})(Object(t)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}),e}var ev=function(e){var u=e.chartBlockEngineMetaData,a=(0,t.useCompile)(),c=u.chart.type,l=null===(v=U.get(c))||void 0===v?void 0:v.renderComponent,s=ey.get(l),D=u.chart,p=eb(u.query.id),f=p.loading,m=p.dataSet,d=p.error;var C=(A=(0,n.useState)({}),h=2,function(e){if(Array.isArray(e))return e}(A)||function(e,t){var u,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(o.push(u.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw r}}return o}}(A,2)||function(e,t){if(e){if("string"==typeof e)return eE(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);if("Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u)return Array.from(u);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return eE(e,t)}}(A,h)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=C[0],y=C[1];if((0,n.useEffect)(function(){y(D)},[JSON.stringify(D)]),d)return o().createElement(o().Fragment,null,o().createElement(i.Empty,{description:o().createElement("span",null,"May be this chart block's query data has been deleted,please check!")}));if(F.type!==D.type)return o().createElement(o().Fragment,null);if("G2Plot"===l){var A,h,v,b,g,B,x=null===(b=U.get(c))||void 0===b?void 0:b.defaultChartOptions;try{g=r().parse(null==D?void 0:D.template)}catch(e){g={}}var S=a(eh(eA({},x,g),{data:m}),eh(eA({},D),{category:null!==(B=null==D?void 0:D.category)&&void 0!==B?B:""}));if(S&&D){var w=D.dimension,O=D.metric;if(D.category,!O||!w)return o().createElement(o().Fragment,null,E("Please check the chart config"))}return o().createElement(o().Fragment,null,f?o().createElement(i.Spin,null):o().createElement(s,{plot:D.type,config:S}))}return o().createElement(o().Fragment,null)},eb=function(e){var u=(0,t.useRequest)({url:"/chartsQueries:getData/".concat(e)}),r=u.data,n=u.loading,o=u.error;return{loading:n,dataSet:null==r?void 0:r.data,error:o}},eg=function(e){var t,u,r,n=e.chartBlockEngineMetaData,i=null==n?void 0:null===(t=n.chart)||void 0===t?void 0:t.type;return(i&&(u=null===(r=U.get(i))||void 0===r?void 0:r.renderComponent),i&&u)?o().createElement(o().Fragment,null,o().createElement(ev,{chartBlockEngineMetaData:n})):o().createElement(o().Fragment,null,E("Please check the chart config"))};eg.Designer=function(){var e=(0,c.useFieldSchema)(),u=((null==e?void 0:e["x-component-props"])||{}).chartBlockEngineMetaData;return o().createElement(t.GeneralSchemaDesigner,null,o().createElement(eF,{chartBlockEngineMetaData:u}),o().createElement(t.SchemaSettingsDivider,null),o().createElement(t.SchemaSettingsRemove,{removeParentsIfNoChildren:!0,breakRemoveOn:{"x-component":"Grid"}}))};function eB(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}var ex=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M523 573.5c-3.9 0.7-7.9 1.1-12 1.1-5.3 0-10.4-0.6-15.2-1.8l-62.2 189.7 167.4-76L523 573.5z"}),o().createElement("path",{d:"M398.3 767.3l68.9-210.1c-6.4-6-11.5-13.3-15-21.4l-192.6 52.7L398.3 767.3z"}),o().createElement("path",{d:"M528 448.9c4.1 1.1 8 2.6 11.7 4.5l72.5-61.8L528 263.7 528 448.9z"}),o().createElement("path",{d:"M259.6 555.4 447.3 504c0.4-4.2 1.3-8.3 2.5-12.2L270.9 373.4 259.6 555.4z"}),o().createElement("path",{d:"M655.5 396.7l208.3 185.7 30.2 4.8c4.8-24.6 7.4-49.9 7.4-75.9 0-95.9-34.6-183.7-92-251.6L655.5 396.7z"}),o().createElement("path",{d:"M794.4 563.4 630.9 417.7l-67 57.1c5.6 8.3 9.3 18 10.6 28.4L794.4 563.4z"}),o().createElement("path",{d:"M496 448.4 496 239.6l-218.8 99.6 189.4 125.4C474.7 456.8 484.8 451.1 496 448.4z"}),o().createElement("path",{d:"M619.3 713.3 420 803.8l-19.1 81.6c35 10.3 72.1 15.9 110.4 15.9 74.4 0 143.9-20.8 203-56.9L619.3 713.3z"}),o().createElement("path",{d:"M648.7 699.5l92.3 127.2c63.3-46.2 112.2-111 138.6-186.4L648.7 699.5z"}),o().createElement("path",{d:"M386.2 804 226.1 597.7l-87.9 27.4c34.9 114.7 121.3 207 232.2 250L386.2 804z"}),o().createElement("path",{d:"M226.9 564.3 240.2 353l-64.4-40.5c-34.6 58.2-54.4 126.2-54.4 198.8 0 28.4 3 56.2 8.8 82.9L226.9 564.3z"}),o().createElement("path",{d:"M842.8 609.8l-272.7-74.7c-4 9.5-10.1 17.9-17.9 24.4l77.3 112.1L842.8 609.8z"}),o().createElement("path",{d:"M528 205.4l108.8 165.2 151-134.5c-67-67.3-158.4-110.2-259.7-114.5L528.1 205.4z"}),o().createElement("path",{d:"M245.7 318.4l250.3-114 0-82.8c-125 4.8-234.8 68.5-302.8 164L245.7 318.4z"}))},eS=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M533.6 784.5c6.6 16.4-1.3 35-17.6 41.7l0 0c-16.4 6.6-35-1.3-41.7-17.6L129.9 236c-6.6-16.4 1.3-35 17.6-41.7l0 0c16.4-6.6 35 1.3 41.7 17.6L533.6 784.5z"}),o().createElement("path",{d:"M536 812.2c-6.9 16.3-25.7 23.9-41.9 17l0 0c-16.3-6.9-23.9-25.7-17-41.9l357.6-575.7c6.9-16.3 25.7-23.9 41.9-17l0 0c16.3 6.9 23.9 25.7 17 41.9L536 812.2z"}),o().createElement("path",{d:"M895.4 224c0 17.7-14.3 32-32 32l-704 0c-17.7 0-32-14.3-32-32l0 0c0-17.7 14.3-32 32-32l704 0C881 192 895.4 206.3 895.4 224L895.4 224z"}),o().createElement("path",{d:"M278.6 384l465 0 0 64-465 0 0-64Z"}),o().createElement("path",{d:"M391.6 576l232.5 0 0 64-232.5 0 0-64Z"}))},ew=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M191 864c0 17.7-14.3 32-32 32l0 0c-17.7 0-32-14.3-32-32L127 160c0-17.7 14.3-32 32-32l0 0c17.7 0 32 14.3 32 32L191 864z"}),o().createElement("path",{d:"M159 896c-17.7 0-32-14.3-32-32l0 0c0-17.7 14.3-32 32-32l712 0c17.7 0 32 14.3 32 32l0 0c0 17.7-14.3 32-32 32L159 896z"}),o().createElement("path",{d:"M745.6 765.9"}),o().createElement("path",{d:"M307.6 244.3m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}),o().createElement("path",{d:"M560 479.2m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}),o().createElement("path",{d:"M391.9 387.7m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}),o().createElement("path",{d:"M540.4 244.3m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}),o().createElement("path",{d:"M732.9 292.3m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}),o().createElement("path",{d:"M792.9 717.9m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}),o().createElement("path",{d:"M307.6 527.2m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}),o().createElement("path",{d:"M439.9 662.4m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}))},eO=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M191 864c0 17.7-14.3 32-32 32l0 0c-17.7 0-32-14.3-32-32L127 160c0-17.7 14.3-32 32-32l0 0c17.7 0 32 14.3 32 32L191 864z"}),o().createElement("path",{d:"M159 896c-17.7 0-32-14.3-32-32l0 0c0-17.7 14.3-32 32-32l712 0c17.7 0 32 14.3 32 32l0 0c0 17.7-14.3 32-32 32L159 896z"}),o().createElement("path",{d:"M745.6 765.9"}),o().createElement("path",{d:"M342.1 734.3c0 17.5-14.2 31.7-31.7 31.7l0 0c-17.5 0-31.7-14.2-31.7-31.7L278.7 489c0-17.5 14.2-31.7 31.7-31.7l0 0c17.5 0 31.7 14.2 31.7 31.7L342.1 734.3z"}),o().createElement("path",{d:"M493.8 734.3c0 17.5-14.2 31.7-31.7 31.7l0 0c-17.5 0-31.7-14.2-31.7-31.7L430.4 387c0-17.5 14.2-31.7 31.7-31.7l0 0c17.5 0 31.7 14.2 31.7 31.7L493.8 734.3z"}),o().createElement("path",{d:"M797.3 734.3c0 17.5-14.2 31.7-31.7 31.7l0 0c-17.5 0-31.7-14.2-31.7-31.7L733.9 234.5c0-17.5 14.2-31.7 31.7-31.7l0 0c17.5 0 31.7 14.2 31.7 31.7L797.3 734.3z"}),o().createElement("path",{d:"M645.5 734.3c0 17.5-14.2 31.7-31.7 31.7l0 0c-17.5 0-31.7-14.2-31.7-31.7l0-97.2c0-17.5 14.2-31.7 31.7-31.7l0 0c17.5 0 31.7 14.2 31.7 31.7L645.5 734.3z"}))},eP=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M131.072 156.16c0-17.92 14.336-31.744 31.744-31.744 17.92 0 31.744 14.336 31.744 31.744v712.192c0 17.92-14.336 31.744-31.744 31.744-17.92 0-31.744-14.336-31.744-31.744V156.16zM292.864 338.944c-17.408 0-31.744-14.336-31.744-31.744 0-17.408 14.336-31.744 31.744-31.744h245.248c17.408 0 31.744 14.336 31.744 31.744 0 17.408-14.336 31.744-31.744 31.744h-245.248zM292.864 490.496c-17.408 0-31.744-14.336-31.744-31.744 0-17.408 14.336-31.744 31.744-31.744H640c17.408 0 31.744 14.336 31.744 31.744 0 17.408-14.336 31.744-31.744 31.744h-347.136zM292.864 794.112c-17.408 0-31.744-14.336-31.744-31.744 0-17.408 14.336-31.744 31.744-31.744h499.712c17.408 0 31.744 14.336 31.744 31.744 0 17.408-14.336 31.744-31.744 31.744h-499.712zM292.864 642.56c-17.408 0-31.744-14.336-31.744-31.744 0-17.408 14.336-31.744 31.744-31.744h97.28c17.408 0 31.744 14.336 31.744 31.744 0 17.408-14.336 31.744-31.744 31.744h-97.28z"}))},ej=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M191 864c0 17.7-14.3 32-32 32l0 0c-17.7 0-32-14.3-32-32L127 160c0-17.7 14.3-32 32-32l0 0c17.7 0 32 14.3 32 32L191 864z"}),o().createElement("path",{d:"M159 896c-17.7 0-32-14.3-32-32l0 0c0-17.7 14.3-32 32-32l712 0c17.7 0 32 14.3 32 32l0 0c0 17.7-14.3 32-32 32L159 896z"}),o().createElement("path",{d:"M307.1 686.3c-12.4 12.4-32.4 12.4-44.8 0l0 0c-12.4-12.4-12.4-32.4 0-44.8l173.4-173.4c12.4-12.4 32.4-12.4 44.8 0l0 0c12.4 12.4 12.4 32.4 0 44.8L307.1 686.3z"}),o().createElement("path",{d:"M608.8 640c-12.4 12.4-32.4 12.4-44.8 0l0 0c-12.4-12.4-12.4-32.4 0-44.8l212.7-212.7c12.4-12.4 32.4-12.4 44.8 0l0 0c12.4 12.4 12.4 32.4 0 44.8L608.8 640z"}),o().createElement("path",{d:"M608 595.3c12.4 12.4 12.4 32.4 0 44.8l0 0c-12.4 12.4-32.4 12.4-44.8 0L436 512.8c-12.4-12.4-12.4-32.4 0-44.8l0 0c12.4-12.4 32.4-12.4 44.8 0L608 595.3z"}))},eI=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M489.7 511 489 511 489 126.9c-201 12.3-360.1 179.2-360.1 383.3 0 212.1 171.9 384 384 384 106.5 0 202.9-43.4 272.5-113.4L489.7 511z"}),o().createElement("path",{d:"M773.1 237.2l6-6c-62.7-59.6-143.5-95.8-228.2-104l0 304.7L773.1 237.2z"}),o().createElement("path",{d:"M819.5 281.6 564.1 505.1 822 739c3-4 5.9-8.1 8.7-12.3 41.4-61.3 65.6-135.2 65.6-214.7C896.3 425.6 867.7 345.8 819.5 281.6z"}))},ek=function(){return o().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024"},o().createElement("path",{d:"M191 864c0 17.7-14.3 32-32 32l0 0c-17.7 0-32-14.3-32-32L127 160c0-17.7 14.3-32 32-32l0 0c17.7 0 32 14.3 32 32L191 864z"}),o().createElement("path",{d:"M159 896c-17.7 0-32-14.3-32-32l0 0c0-17.7 14.3-32 32-32l712 0c17.7 0 32 14.3 32 32l0 0c0 17.7-14.3 32-32 32L159 896z"}),o().createElement("path",{d:"M830.6 338.2 830.6 338.2c0.9-9.2-2.1-18.6-9.1-25.7-12.4-12.4-32.4-12.4-44.8 0L586 503.3 480.8 398.1c-6.2-6.2-14.4-9.3-22.5-9.3-8.1 0-16.3 3.1-22.5 9.3L262.4 571.5c-6 6-9.1 13.8-9.3 21.6 0 0.1 0 0.1 0 0.2l0 111.8c0 35.3 28.7 64 64 64l449.7 0c33.8 0 61.4-26.1 63.8-59.3l0 0 0-0.2c0.1-1.5 0.2-3 0.2-4.5L830.8 593.3c0-0.3-0.1-0.7-0.2-1L830.6 338.2z"}))};t.Icon.register({"icon-area":function(e){return o().createElement(t.Icon,eB({component:ek},e))},"icon-pie":function(e){return o().createElement(t.Icon,eB({component:eI},e))},"icon-radar":function(e){return o().createElement(t.Icon,eB({component:ex},e))},"icon-funnel":function(e){return o().createElement(t.Icon,eB({component:eS},e))},"icon-line":function(e){return o().createElement(t.Icon,eB({component:ej},e))},"icon-bar":function(e){return o().createElement(t.Icon,eB({component:eP},e))},"icon-column":function(e){return o().createElement(t.Icon,eB({component:eO},e))},"icon-scatter":function(e){return o().createElement(t.Icon,eB({component:ew},e))}});var eM=m("875");function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=Array(t);u<t;u++)r[u]=e[u];return r}var eq={label:"label",value:"value",color:"color",options:"children"},ez=function(e,t,u){var r=function e(t){for(var r=[],n=0;n<t.length;n++){var o,i=t[n][u.options];if(Array.isArray(i)){;r.push.apply(r,function(e){if(Array.isArray(e))return eN(e)}(o=e(i))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return eN(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);if("Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u)return Array.from(u);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return eN(e,t)}}(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}r.push(function(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}({},t[n]))}return r}(t);return e=h().castArray(e).filter(function(e){return null!=e}).map(function(e){var t;return(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)=="object"?e[u.value]:e}),function(t){if(!t)return[];var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)!function(){var e=a.value,n=t.find(function(t){return t[u.value]===e})||{value:e,label:e};r.push(n)}()}catch(e){o=!0,i=e}finally{try{!n&&null!=c.return&&c.return()}finally{if(o)throw i}}return r}(r)},eL=(0,c.observer)(function(u){var r,n=function(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}({},eq,u.fieldNames),a=(0,c.useField)(),l=(0,t.useCompile)();if(!(0,eM.isValid)(u.value)||(0,e.isArrayField)(a)&&(null==a?void 0:null===(r=a.value)||void 0===r?void 0:r.length)===0)return o().createElement("div",null);var s=a.dataSource||u.options||[],D=ez(a.value,s,n);return o().createElement("div",null,D.map(function(e,t){return o().createElement(i.Tag,{key:t,color:e[n.color],icon:e.icon},l(e[n.label]))}))},{displayName:"ReadPretty"});function eT(){return(eT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r])}return e}).apply(this,arguments)}function eR(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){var r,n,o;r=e,n=t,o=u[t],n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o})}return e}function eV(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);u.push.apply(u,r)}return u})(Object(t)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}),e}function e_(e,t){return!t&&(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function eG(){var e=e_(["\n                    display: flex;\n                    gap: 4px;\n                    align-items: center;\n                  "]);return eG=function(){return e},e}function eJ(){var e=e_(["\n                    display: flex;\n                    gap: 4px;\n                    align-items: center;\n                  "]);return eJ=function(){return e},e}var eQ=i.Select.Option,eU=i.Select.OptGroup,e$=function(e,t){var u;return(null!==(u=null==t?void 0:t.label)&&void 0!==u?u:"").toLowerCase().includes((e||"").toLowerCase())},eZ=(0,c.connect)(function(e){var u=eR({},eT({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e))),r=u.options,n=function(e,t){if(null==e)return{};var u,r,n=function(e,t){if(null==e)return{};var u,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)u=o[r],!(t.indexOf(u)>=0)&&(n[u]=e[u]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){if(u=o[r],!(t.indexOf(u)>=0))Object.prototype.propertyIsEnumerable.call(e,u)&&(n[u]=e[u])}}return n}(u,["options"]),a=e.mode||e.multiple?"multiple":void 0,c=r.filter(function(e){return 2===e.group}),l=r.filter(function(e){return 1===e.group});return o().createElement(i.Select,eV(eR({showSearch:!0,filterOption:e$,allowClear:!0},n),{onChange:function(t){var u;null===(u=e.onChange)||void 0===u||u.call(e,void 0===t?null:t)},mode:a}),o().createElement(eU,{label:E("Basic charts")},c.map(function(e){return o().createElement(eQ,{key:e.key,value:e.key,label:E(e.title)},o().createElement(t.StablePopover,{placement:"right",zIndex:0x174876e7ff,content:function(){var t;return o().createElement("span",null,null===(t=E(null==e?void 0:e.description))||void 0===t?void 0:t.split(",").map(function(e){return o().createElement("div",{key:e},e)}))},trigger:"hover"},o().createElement("div",{className:(0,t.css)(eG())},o().createElement(t.Icon,{type:e.iconId}),o().createElement("span",{role:"img","aria-label":E(e.title)},E(e.title)))))})),o().createElement(eU,{label:E("More charts")},l.map(function(e){return o().createElement(eQ,{key:e.key,value:e.key,label:E(e.title)},o().createElement(t.StablePopover,{placement:"right",zIndex:0x174876e7ff,content:function(){var t;return o().createElement("span",null,null===(t=E(null==e?void 0:e.description))||void 0===t?void 0:t.split(",").map(function(e){return o().createElement("div",{key:e},e)}))},trigger:"hover"},o().createElement("div",{className:(0,t.css)(eJ())},o().createElement(t.Icon,{type:e.iconId}),o().createElement("span",{role:"img","aria-label":E(e.title)},E(e.title)))))})))},(0,c.mapProps)({dataSource:"options",loading:!0},function(e,t){return eV(eR({},e),{suffixIcon:(null==t?void 0:t.loading)||(null==t?void 0:t.validating)?o().createElement(D.LoadingOutlined,null):null==e?void 0:e.suffixIcon})}),(0,c.mapReadPretty)(eL));function eH(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=Array(t);u<t;u++)r[u]=e[u];return r}eZ.ReadPretty=eL;function eK(e,t,u,r,n,o,i){try{var a=e[o](i),c=a.value}catch(e){u(e);return}a.done?t(c):Promise.resolve(c).then(r,n)}function eW(e){return function(){var t=this,u=arguments;return new Promise(function(r,n){var o=e.apply(t,u);function i(e){eK(o,r,n,i,a,"next",e)}function a(e){eK(o,r,n,i,a,"throw",e)}i(void 0)})}}function eX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var u,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(o.push(u.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eH(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);if("Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u)return Array.from(u);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return eH(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eY(e,t){var u,r,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(u)throw TypeError("Generator is already executing.");for(;i;)try{if(u=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{u=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var e0=function(){var e=(0,t.useActionContext)().setVisible,u=(0,c.useForm)(),r=(0,t.useResourceActionContext)().refresh,n=(0,t.useResourceContext)().resource,o=F();return{run:function(){return eW(function(){return eY(this,function(t){switch(t.label){case 0:return[4,u.submit()];case 1:return t.sent(),[4,n.create({values:u.values})];case 2:return t.sent(),e(!1),[4,u.reset()];case 3:return t.sent(),r(),o.refresh(),[2]}})})()}}},e1=function(){var e=(0,t.useActionContext)().setVisible,u=(0,c.useForm)(),r=(0,t.useResourceActionContext)().refresh,n=(0,t.useResourceContext)(),o=n.resource,i=n.targetKey,a=(0,t.useRecord)()[i],l=F();return{run:function(){return eW(function(){return eY(this,function(t){switch(t.label){case 0:return[4,u.submit()];case 1:return t.sent(),[4,o.update({filterByTk:a,values:u.values})];case 2:return t.sent(),e(!1),[4,u.reset()];case 3:return t.sent(),r(),l.refresh(),[2]}})})()}}},e2=function(){var e=(0,t.useActionContext)().setVisible;return{run:function(){return eW(function(){return eY(this,function(t){return e(!1),[2]})})()}}},e3=function(e,t){var u=t.form,r=t.isNewRecord,n=e.type;return{type:"void",name:(0,eM.uid)(),"x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{form:u},title:r?E("Add query"):E("Edit query"),properties:{title:{title:E("Title"),required:!0,"x-component":"Input","x-decorator":"FormItem"},options:b(n),footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{cancel:{"x-component":"Action",title:E("Cancel"),"x-component-props":{useAction:"{{ useCloseAction }}"}},submit:{"x-component":"Action",title:E("Submit"),"x-component-props":{type:"primary",useAction:"{{ useSubmitAction }}"}}}}}}},e4=function(){var u=eX((0,n.useState)(!1),2),r=u[0],a=u[1],c=eX((0,n.useState)({}),2),l=c[0],s=c[1],p=(0,n.useMemo)(function(){return(0,e.createForm)()},[]),f=(0,n.useMemo)(function(){return{onClick:function(e){a(!0),p.setValues({type:e.key}),s(e3({type:e.key},{form:p,isNewRecord:!0}))},items:[{key:"json",label:"JSON"},{key:"sql",label:"SQL"},{key:"api",label:"API",disabled:!0},{key:"collection",label:"Collection",disabled:!0}]}},[p]);return o().createElement(t.ActionContextProvider,{value:{visible:r,setVisible:a}},o().createElement(i.Dropdown,{menu:f},o().createElement(i.Button,{icon:o().createElement(D.PlusOutlined,null),type:"primary"},E("Add query")," ",o().createElement(D.DownOutlined,null))),o().createElement(t.SchemaComponent,{schema:l,scope:{useCloseAction:e2,useSubmitAction:e0}}))},e8=function(){var u=eX((0,n.useState)(!1),2),r=u[0],i=u[1],a=(0,t.useRecord)(),c=(0,n.useMemo)(function(){return(0,e.createForm)()},[]),l=e3(a,{form:c,isNewRecord:!1});return o().createElement(t.ActionContextProvider,{value:{visible:r,setVisible:i}},o().createElement("a",{onClick:function(){c.setValues(a),i(!0)}},E("Edit")),o().createElement(t.SchemaComponent,{schema:l,scope:{useCloseAction:e2,useSubmitAction:e1}}))},e7=function(){var e=(0,t.useRecord)();return o().createElement(i.Table,{columns:[{title:"字段标识",dataIndex:"name"}],dataSource:e.fields||[]})};function e6(e,t,u,r,n,o,i){try{var a=e[o](i),c=a.value}catch(e){u(e);return}a.done?t(c):Promise.resolve(c).then(r,n)}function e5(e){return function(){var t=this,u=arguments;return new Promise(function(r,n){var o=e.apply(t,u);function i(e){e6(o,r,n,i,a,"next",e)}function a(e){e6(o,r,n,i,a,"throw",e)}i(void 0)})}}function e9(e,t,u){return t in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e}function te(e,t){var u,r,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(u)throw TypeError("Generator is already executing.");for(;i;)try{if(u=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{u=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var tt={name:"chartsQueries",fields:[{type:"integer",name:"title",interface:"input",uiSchema:{title:'{{t("Title",{ns:"charts"})}}',type:"string","x-component":"Input",required:!0}},{type:"string",name:"type",interface:"select",uiSchema:{title:'{{t("Type",{ns:"charts"})}}',type:"string","x-component":"Select",required:!0,enum:[{label:'{{t("API")}}',value:"api"},{label:'{{t("SQL")}}',value:"sql"},{label:'{{t("JSON")}}',value:"json"}]}}]},tu=function(){var e=F(),u=(0,t.useResourceActionContext)().refresh,r=(0,t.useResourceContext)(),n=r.resource,o=r.targetKey,i=(0,t.useRecord)()[o];return{run:function(){return e5(function(){return te(this,function(t){switch(t.label){case 0:return[4,n.destroy({filterByTk:i})];case 1:return t.sent(),u(),e.refresh(),[2]}})})()}}},tr=function(){var e=F(),u=(0,t.useResourceActionContext)(),r=u.state,n=u.setState,o=u.refresh,i=(0,t.useResourceContext)(),a=i.resource;return i.targetKey,{run:function(){return e5(function(){return te(this,function(t){switch(t.label){case 0:return[4,a.destroy({filterByTk:(null==r?void 0:r.selectedRowKeys)||[]})];case 1:return t.sent(),null==n||n({selectedRowKeys:[]}),o(),e.refresh(),[2]}})})()}}},tn={type:"object",properties:e9({},(0,eM.uid)(),{type:"void","x-decorator":"ResourceActionProvider","x-decorator-props":{collection:tt,resourceName:"chartsQueries",request:{resource:"chartsQueries",action:"list",params:{pageSize:50,sort:["-id"],appends:[]}}},"x-component":"CollectionProvider_deprecated","x-component-props":{collection:tt},properties:{actions:{type:"void","x-component":"ActionBar","x-component-props":{style:{marginBottom:16}},properties:{delete:{type:"void",title:'{{ t("Delete") }}',"x-component":"Action","x-component-props":{useAction:"{{ useDestroyAllSelectedQueriesAction }}",confirm:{title:'{{t("Delete queries",{ns:"charts"})}}',content:"{{t('Are you sure you want to delete it?')}}"}}},create:{type:"void",title:'{{t("Add query")}}',"x-component":"AddNewQuery","x-component-props":{type:"primary"},properties:{drawer:{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:function(e){var u,r,n=(0,t.useActionContext)();return(0,t.useRequest)(function(){return Promise.resolve({data:{name:"s_".concat((0,eM.uid)())}})},(u=function(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{},r=Object.keys(u);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(e){return Object.getOwnPropertyDescriptor(u,e).enumerable}))),r.forEach(function(t){e9(e,t,u[t])})}return e}({},e),r=(r={refreshDeps:[n.visible]},r),Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(r)):(function(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);u.push.apply(u,r)}return u})(Object(r)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(r,e))}),u))}},title:'{{t("Add query",{ns:"charts"})}}',properties:{title:{"x-component":"CollectionField","x-decorator":"FormItem"},type:{"x-component":"CollectionField","x-decorator":"FormItem"},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{cancel:{title:'{{t("Cancel",{ns:"charts"})}}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useCancelAction }}"}},submit:{title:'{{t("Submit",{ns:"charts"})}}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ cm.useCreateAction }}"}}}}}}}}}},table:{type:"void","x-uid":"input","x-component":"Table.Void","x-component-props":{rowKey:"id",rowSelection:{type:"checkbox"},useDataSource:"{{ cm.useDataSourceFromRAC }}"},properties:{title:{type:"void","x-decorator":"Table.Column.Decorator","x-component":"Table.Column",properties:{title:{type:"number","x-component":"CollectionField","x-read-pretty":!0}}},type:{type:"void","x-decorator":"Table.Column.Decorator","x-component":"Table.Column",properties:{type:{type:"string","x-component":"CollectionField","x-read-pretty":!0}}},actions:{type:"void",title:'{{t("Actions")}}',"x-component":"Table.Column",properties:{actions:{type:"void","x-component":"Space","x-component-props":{split:"|"},properties:{fields:{type:"void",title:'{{t("Configure fields")}}',"x-component":"Action.Link","x-component-props":{type:"primary"},properties:{drawer:{type:"void","x-component":"Action.Drawer",title:'{{t("Configure fields")}}',properties:{configure:{type:"void","x-component":"ConfigureFields"}}}}},update:{type:"void",title:'{{t("Edit")}}',"x-component":"EditQuery","x-component-props":{type:"primary"},properties:{drawer:{type:"void","x-component":"Action.Drawer","x-decorator":"Form","x-decorator-props":{useValues:"{{ cm.useValuesFromRecord }}"},title:'{{t("Edit")}}',properties:{title:{"x-component":"CollectionField","x-decorator":"FormItem"},footer:{type:"void","x-component":"Action.Drawer.Footer",properties:{cancel:{title:'{{t("Cancel",{ns:"charts"})}}',"x-component":"Action","x-component-props":{useAction:"{{ cm.useCancelAction }}"}},submit:{title:'{{t("Submit",{ns:"charts"})}}',"x-component":"Action","x-component-props":{type:"primary",useAction:"{{ cm.useUpdateAction }}"}}}}}}}},delete:{type:"void",title:'{{ t("Delete") }}',"x-component":"Action.Link","x-component-props":{confirm:{title:'{{t("Delete query",{ns:"charts"})}}',content:"{{t('Are you sure you want to delete it?')}}"},useAction:"{{ useDestroyQueryItemAction }}"}}}}}}}}}})};function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=Array(t);u<t;u++)r[u]=e[u];return r}var ti=function(){var e,u,a=(e=(0,n.useState)(!1),u=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var u,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(o.push(u.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);if("Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u)return Array.from(u);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return to(e,t)}}(e,u)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return a[0],a[1],(0,s.useTranslation)().t,o().createElement(i.Card,{bordered:!1},o().createElement(t.SchemaComponent,{scope:{JSON5:r(),useDestroyQueryItemAction:tu,useDestroyAllSelectedQueriesAction:tr},schema:tn,components:{AddNewQuery:e4,EditQuery:e8,ConfigureFields:e7}}))};function ta(e,t,u,r,n,o,i){try{var a=e[o](i),c=a.value}catch(e){u(e);return}a.done?t(c):Promise.resolve(c).then(r,n)}function tc(e){return function(){var t=this,u=arguments;return new Promise(function(r,n){var o=e.apply(t,u);function i(e){ta(o,r,n,i,a,"next",e)}function a(e){ta(o,r,n,i,a,"throw",e)}i(void 0)})}}function tl(e,t,u){return(tl=tm()?Reflect.construct:function(e,t,u){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return u&&tp(n,u.prototype),n}).apply(null,arguments)}function ts(e,t){for(var u=0;u<t.length;u++){var r=t[u];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tD(e){return(tD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tp(e,t){return(tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tf(e){var t="function"==typeof Map?new Map:void 0;return(tf=function(e){var u;if(null===e||(u=e,-1===Function.toString.call(u).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return tl(e,arguments,tD(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),tp(r,e)})(e)}function tm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tm=function(){return!!e})()}function td(e,t){var u,r,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(u)throw TypeError("Generator is already executing.");for(;i;)try{if(u=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{u=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(0,e.registerValidateRules)({json5:function(e,t){if(!e)return"";try{var u=r().parse(e);if(!isNaN(u))return{type:"error",message:E("Invalid JSON format")};return""}catch(e){return console.error(e),{type:"error",message:E("Invalid JSON format")}}}});var tC=o().memo(function(e){var u=(0,t.useAPIClient)();return o().createElement(C,null,o().createElement(t.SchemaComponentOptions,{scope:{validateSQL:function(e){return new Promise(function(t){u.request({url:"chartsQueries:validate",method:"post",data:{sql:e}}).then(function(e){var u,r=e.data;t(null==r?void 0:null===(u=r.data)||void 0===u?void 0:u.errorMessage)}).catch(function(){t("Invalid SQL")})})}},components:{CustomSelect:eZ,ChartBlockInitializer:en,ChartBlockEngine:eg}},e.children))});tC.displayName="ChartsProvider";var tF=function(e){var u,r,n;function o(){var e,t,u;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e=this,t=o,u=arguments,t=tD(t),function(e,t){return t&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)||"function"==typeof t)?t:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tm()?Reflect.construct(t,u||[],tD(e).constructor):t.apply(e,u))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tp(e,t)}(o,e),u=o,r=[{key:"afterAdd",value:function(){var e=this;return tc(function(){return td(this,function(u){return e.app.pm.add(t.BlockSchemaComponentPlugin),[2]})})()}},{key:"load",value:function(){var e=this;return tc(function(){return td(this,function(t){return e.app.use(tC),e.app.pluginSettingsManager.add(y,{title:'{{t("Charts", { ns: "'.concat(y,'" })}}'),icon:"PieChartOutlined",Component:ti,aclSnippet:"pm.charts.queries"}),[2]})})()}}],ts(u.prototype,r),o}(tf(t.Plugin)),ty=tF}(),d}()});