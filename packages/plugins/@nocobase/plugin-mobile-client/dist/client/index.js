/**
 * This file is part of the NocoBase (R) project.
 * Copyright (c) 2020-2024 NocoBase Co., Ltd.
 * Authors: NocoBase Team.
 *
 * This project is dual-licensed under AGPL-3.0 and NocoBase Commercial License.
 * For more information, please refer to: https://www.nocobase.com/agreement.
 */

!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("@nocobase/client"),require("@formily/react"),require("react"),require("react-i18next"),require("antd"),require("react-router-dom"),require("@ant-design/icons"),require("@formily/antd-v5"),require("@formily/shared"),require("lodash"),require("ahooks")):"function"==typeof define&&define.amd?define("@nocobase/plugin-mobile-client",["@nocobase/client","@formily/react","react","react-i18next","antd","react-router-dom","@ant-design/icons","@formily/antd-v5","@formily/shared","lodash","ahooks"],n):"object"==typeof exports?exports["@nocobase/plugin-mobile-client"]=n(require("@nocobase/client"),require("@formily/react"),require("react"),require("react-i18next"),require("antd"),require("react-router-dom"),require("@ant-design/icons"),require("@formily/antd-v5"),require("@formily/shared"),require("lodash"),require("ahooks")):e["@nocobase/plugin-mobile-client"]=n(e["@nocobase/client"],e["@formily/react"],e.react,e["react-i18next"],e.antd,e["react-router-dom"],e["@ant-design/icons"],e["@formily/antd-v5"],e["@formily/shared"],e.lodash,e.ahooks)}(self,function(e,n,t,r,o,a,i,l,c,s,u){return function(){var d,m,p,f,b,v,h={730:function(e,n){"use strict";var t,r,o=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen");function g(e){if("object"==typeof e&&null!==e){var n=e.$$typeof;switch(n){case o:switch(e=e.type){case i:case c:case l:case p:case f:return e;default:switch(e=e&&e.$$typeof){case d:case u:case m:case v:case b:case s:return e;default:return n}}case a:return n}}}r=Symbol.for("react.module.reference");n.isFragment=function(e){return g(e)===i}},600:function(e,n,t){"use strict";e.exports=t(730)},722:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return nH},PluginMobileClient:function(){return nU}});var r,o,a,i,l=t("772"),c=t("156"),s=t.n(c),u=t("128"),d=function(){return window.JsBridge},m={onBackPressed:function(){if(1===history.length){var e,n;e={action:"moveTaskToBack"},d().invoke(e,void 0)}else history.back()}};Object.keys(m).forEach(function(e){window[e]=m[e]});var p=s().memo(function(e){var n=(0,u.useLocation)(),t=(0,l.useNavigateNoUpdate)();return(0,c.useEffect)(function(){d()&&"/admin"===n.pathname&&t("/mobile",{replace:!0})},[n.pathname,t]),s().createElement(s().Fragment,null,e.children)});p.displayName="MobileClientProvider";var f=t("573"),b={name:"mobilePage:addBlock",title:'{{t("Add block")}}',icon:"PlusOutlined",wrap:l.gridRowColWrap,items:[{name:"dataBlocks",type:"itemGroup",title:'{{t("Data blocks")}}',children:[{name:"gridCard",type:"item",title:'{{t("Grid Card")}}',Component:"GridCardBlockInitializer"},{name:"table",title:'{{t("Table")}}',Component:"TableBlockInitializer"},{name:"form",title:'{{t("Form")}}',Component:"FormBlockInitializer"},{name:"details",title:'{{t("Details")}}',Component:"DetailsBlockInitializer"},{name:"calendar",title:'{{t("Calendar")}}',Component:"CalendarBlockInitializer"},{name:"mapBlock",title:(0,f.Ul)("Map"),Component:"MapBlockInitializer"},{name:"charts",title:'{{t("Charts")}}',Component:"ChartV2BlockInitializer"}]},{name:"otherBlocks",type:"itemGroup",title:'{{t("Other blocks")}}',children:[{name:"menu",title:(0,f.Ul)("Menu"),Component:"MMenuBlockInitializer"},{name:"markdown",title:'{{t("Markdown")}}',Component:"MarkdownBlockInitializer"},{name:"settings",title:(0,f.Ul)("Settings"),Component:"MSettingsBlockInitializer"}]}]};var v=new l.CompatibleSchemaInitializer((r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}({},b),o=(o={name:"MBlockInitializers"},o),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}),r)),h=new l.CompatibleSchemaInitializer(b,v),g=t("482");function y(e,n,t,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){t(e);return}l.done?n(c):Promise.resolve(c).then(r,o)}var x=function(){var e,n=(0,l.useSchemaInitializerItem)(),t=(0,l.useSchemaInitializer)().insert;return s().createElement(l.SchemaInitializerItem,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}({icon:s().createElement(g.MenuOutlined,null),onClick:(e=function(){return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){return t({type:"void","x-component":"MMenu","x-designer":"MMenu.Designer","x-component-props":{}}),[2]})},function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){y(a,r,o,i,l,"next",e)}function l(e){y(a,r,o,i,l,"throw",e)}i(void 0)})})},n))},w=t("505"),O=t("278"),k=t.n(O),S=t("391"),E=t.n(S),P=t("547"),j=t.n(P),C=t("604"),z=t.n(C),I=t("593"),M=t.n(I),$=t("784"),B=t.n($),N=t("46"),D={};D.styleTagTransform=B(),D.setAttributes=z(),D.insert=j().bind(null,"head"),D.domAPI=E(),D.insertStyleElement=M(),k()(N.Z,D),N.Z&&N.Z.locals&&N.Z.locals,"undefined"!=typeof window&&"undefined"!=typeof document&&window.document&&window.document.createElement&&document.addEventListener("touchstart",()=>{},!0);var T=t("59"),F={};function A(e,n){for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}F.styleTagTransform=B(),F.setAttributes=z(),F.insert=j().bind(null,"head"),F.domAPI=E(),F.insertStyleElement=M(),k()(T.Z,F),T.Z&&T.Z.locals&&T.Z.locals;var R=t("527"),_=t.n(R);function G(e,n){let t=Object.assign({},n.props);for(let r in e.className&&(t.className=_()(n.props.className,e.className)),e.style&&(t.style=Object.assign(Object.assign({},t.style),e.style)),void 0!==e.tabIndex&&(t.tabIndex=e.tabIndex),e)e.hasOwnProperty(r)&&(r.startsWith("data-")||r.startsWith("aria-"))&&(t[r]=e[r]);return s().cloneElement(n,t)}function L(...e){let n={};return e.forEach(e=>{e&&Object.keys(e).forEach(t=>{void 0!==e[t]&&(n[t]=e[t])})}),n}function Z(e,...n){for(let e=n.length-1;e>=0;e-=1)if(void 0!==n[e])return n[e];return e}let q="adm-list",U={mode:"default"},H=(0,c.forwardRef)((e,n)=>{let t=L(U,e),r=(0,c.useRef)(null);return(0,c.useImperativeHandle)(n,()=>({get nativeElement(){return r.current}})),G(t,s().createElement("div",{className:_()(q,`${q}-${t.mode}`),ref:r},t.header&&s().createElement("div",{className:`${q}-header`},t.header),s().createElement("div",{className:`${q}-body`},s().createElement("div",{className:`${q}-body-inner`},t.children))))});var W=function(e){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),c.createElement("g",{id:"RightOutline-RightOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"RightOutline-RightOutlined"},c.createElement("rect",{id:"RightOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),c.createElement("path",{d:"M17.3947957,5.11219264 L35.5767382,22.6612572 L35.5767382,22.6612572 C36.1304785,23.2125856 36.1630514,24.0863155 35.6744571,24.6755735 L35.5767382,24.7825775 L17.3956061,42.8834676 C17.320643,42.9580998 17.2191697,43 17.1133896,43 L13.9866673,43 C13.7657534,43 13.5866673,42.8209139 13.5866673,42.6 C13.5866673,42.4936115 13.6290496,42.391606 13.7044413,42.316542 L32.3201933,23.7816937 L32.3201933,23.7816937 L13.7237117,5.6866816 C13.5653818,5.53262122 13.5619207,5.27937888 13.7159811,5.121049 C13.7912854,5.04365775 13.8946805,5 14.0026627,5 L17.1170064,5 C17.2206403,5 17.3202292,5.04022164 17.3947957,5.11219264 Z",id:"RightOutline-right",fill:"currentColor",fillRule:"nonzero"}))))};function V(e){return null!=e&&!1!==e}let K="${label}不是一个有效的${type}",X={locale:{locale:"zh-CH",common:{confirm:"确定",cancel:"取消",loading:"加载中",close:"关闭"},Calendar:{title:"日期选择",confirm:"确认",start:"开始",end:"结束",today:"今日",markItems:["一","二","三","四","五","六","日"],yearAndMonth:"${year}年${month}月"},Cascader:{placeholder:"请选择"},Dialog:{ok:"我知道了"},DatePicker:{tillNow:"至今"},ErrorBlock:{default:{title:"页面遇到一些小问题",description:"待会来试试"},busy:{title:"前方拥堵",description:"刷新试试"},disconnected:{title:"网络有点忙",description:"动动手指帮忙修复"},empty:{title:"没有找到你需要的东西",description:"找找其他的吧"}},Form:{required:"必填",optional:"选填",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:K,method:K,array:K,object:K,number:K,date:K,boolean:K,integer:K,float:K,regexp:K,email:K,url:K,hex:K},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},ImageUploader:{uploading:"上传中...",upload:"上传"},InfiniteScroll:{noMore:"没有更多了",failedToLoad:"加载失败",retry:"重新加载"},Input:{clear:"清除"},Mask:{name:"背景蒙层"},Modal:{ok:"我知道了"},PasscodeInput:{name:"密码输入框"},PullToRefresh:{pulling:"下拉刷新",canRelease:"释放立即刷新",complete:"刷新成功"},SearchBar:{name:"搜索框"},Slider:{name:"滑动输入条"},Stepper:{decrease:"减少",increase:"增加"},Switch:{name:"开关"},Selector:{name:"选择组"}}},J=s().createContext(null);function Y(){var e;return null!==(e=(0,c.useContext)(J))&&void 0!==e?e:X}let Q="adm-list-item";var ee=A(H,{Item:e=>{var n,t;let{arrow:r,arrowIcon:o}=e,{list:a={}}=Y(),i=null!==(n=e.clickable)&&void 0!==n?n:!!e.onClick,l=null!==(t=null!=r?r:o)&&void 0!==t?t:i,c=Z(a.arrowIcon,!0!==r?r:null,!0!==o?o:null),u=s().createElement("div",{className:`${Q}-content`},V(e.prefix)&&s().createElement("div",{className:`${Q}-content-prefix`},e.prefix),s().createElement("div",{className:`${Q}-content-main`},V(e.title)&&s().createElement("div",{className:`${Q}-title`},e.title),e.children,V(e.description)&&s().createElement("div",{className:`${Q}-description`},e.description)),V(e.extra)&&s().createElement("div",{className:`${Q}-content-extra`},e.extra),l&&s().createElement("div",{className:`${Q}-content-arrow`},c||s().createElement(W,null)));return G(e,s().createElement(i?"a":"div",{className:_()(`${Q}`,i?["adm-plain-anchor"]:[],e.disabled&&`${Q}-disabled`),onClick:e.disabled?void 0:e.onClick},u))}}),en=t("266"),et={};et.styleTagTransform=B(),et.setAttributes=z(),et.insert=j().bind(null,"head"),et.domAPI=E(),et.insertStyleElement=M(),k()(en.Z,et),en.Z&&en.Z.locals&&en.Z.locals;let er="adm-nav-bar",eo=s().createElement(function(e){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),c.createElement("g",{id:"LeftOutline-LeftOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"LeftOutline-编组"},c.createElement("rect",{id:"LeftOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),c.createElement("path",{d:"M31.7053818,5.11219264 L13.5234393,22.6612572 L13.5234393,22.6612572 C12.969699,23.2125856 12.9371261,24.0863155 13.4257204,24.6755735 L13.5234393,24.7825775 L31.7045714,42.8834676 C31.7795345,42.9580998 31.8810078,43 31.9867879,43 L35.1135102,43 C35.3344241,43 35.5135102,42.8209139 35.5135102,42.6 C35.5135102,42.4936115 35.4711279,42.391606 35.3957362,42.316542 L16.7799842,23.7816937 L16.7799842,23.7816937 L35.3764658,5.6866816 C35.5347957,5.53262122 35.5382568,5.27937888 35.3841964,5.121049 C35.3088921,5.04365775 35.205497,5 35.0975148,5 L31.9831711,5 C31.8795372,5 31.7799483,5.04022164 31.7053818,5.11219264 Z",id:"LeftOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))},null);var ea=e=>{let{navBar:n={}}=Y(),t=L(n,e),{back:r,backIcon:o,backArrow:a}=t,i=n.backIcon||eo,l=Z(eo,n.backIcon,!0===a?i:a,!0===o?i:o);return G(t,s().createElement("div",{className:_()(er)},s().createElement("div",{className:`${er}-left`,role:"button"},null!==r&&s().createElement("div",{className:`${er}-back`,onClick:t.onBack},l&&s().createElement("span",{className:`${er}-back-arrow`},l),s().createElement("span",{"aria-hidden":"true"},r)),t.left),s().createElement("div",{className:`${er}-title`},t.children),s().createElement("div",{className:`${er}-right`},t.right)))},ei=t("663"),el={};el.styleTagTransform=B(),el.setAttributes=z(),el.insert=j().bind(null,"head"),el.domAPI=E(),el.insertStyleElement=M(),k()(ei.Z,el),ei.Z&&ei.Z.locals&&ei.Z.locals;var ec=t("652"),es={};es.styleTagTransform=B(),es.setAttributes=z(),es.insert=j().bind(null,"head"),es.domAPI=E(),es.insertStyleElement=M(),k()(ec.Z,es),ec.Z&&ec.Z.locals&&ec.Z.locals;let eu="adm-badge",ed=s().createElement(s().Fragment,null);var em=A(e=>{let{content:n,color:t,children:r}=e,o=n===ed,a=_()(eu,{[`${eu}-fixed`]:!!r,[`${eu}-dot`]:o,[`${eu}-bordered`]:e.bordered}),i=n||0===n?G(e,s().createElement("div",{className:a,style:{"--color":t}},!o&&s().createElement("div",{className:`${eu}-content`},n))):null;return r?s().createElement("div",{className:_()(`${eu}-wrapper`,e.wrapperClassName),style:e.wrapperStyle},r,i):i},{dot:ed}),ep=t("749"),ef={};ef.styleTagTransform=B(),ef.setAttributes=z(),ef.insert=j().bind(null,"head"),ef.domAPI=E(),ef.insertStyleElement=M(),k()(ep.Z,ef),ep.Z&&ep.Z.locals&&ep.Z.locals;let eb="adm-safe-area";var ev=e=>G(e,s().createElement("div",{className:_()(eb,`${eb}-position-${e.position}`)})),eh=t("416"),eg=t("600");let ey="adm-tab-bar",ex={safeArea:!1};var ew=A(e=>{var n,t,r;let o;let a=L(ex,e),i=null,l=[];t=a.children,r=(e,n)=>{if(!(0,c.isValidElement)(e))return;let t=e.key;"string"==typeof t&&(0===n&&(i=t),l.push(e))},o=0,function e(n){s().Children.forEach(n,n=>{(0,eg.isFragment)(n)?e(n.props.children):(r(n,o),o+=1)})}(t);let[u,d]=function(e){let{value:n,defaultValue:t,onChange:r}=e,o=(0,eh.useUpdate)(),a=(0,c.useRef)(void 0!==n?n:t);void 0!==n&&(a.current=n);let i=(0,eh.useMemoizedFn)((e,n=!1)=>{let t="function"==typeof e?e(a.current):e;if(n||t!==a.current)return a.current=t,o(),null==r?void 0:r(t)});return[a.current,i]}({value:a.activeKey,defaultValue:null!==(n=a.defaultActiveKey)&&void 0!==n?n:i,onChange:e=>{var n;null!==e&&(null===(n=a.onChange)||void 0===n||n.call(a,e))}});return G(a,s().createElement("div",{className:ey},s().createElement("div",{className:`${ey}-wrap`},l.map(e=>{let n=e.key===u;return G(e.props,s().createElement("div",{key:e.key,onClick:()=>{var n,t;let{key:r}=e;null!=r&&(d(r.toString()),null===(t=(n=e.props).onClick)||void 0===t||t.call(n))},className:_()(`${ey}-item`,{[`${ey}-item-active`]:n})},function(){let t=e.props.icon&&s().createElement("div",{className:`${ey}-item-icon`},"function"==typeof e.props.icon?e.props.icon(n):e.props.icon),r=e.props.title&&s().createElement("div",{className:_()(`${ey}-item-title`,!!t&&`${ey}-item-title-with-icon`)},"function"==typeof e.props.title?e.props.title(n):e.props.title);return t?s().createElement(s().Fragment,null,s().createElement(em,{content:e.props.badge,className:`${ey}-icon-badge`},t),r):r?s().createElement(em,{content:e.props.badge,className:`${ey}-title-badge`},r):null}()))})),a.safeArea&&s().createElement(ev,{position:"bottom"})))},{Item:()=>null}),eO={type:"void","x-component":"MPage","x-designer":"MPage.Designer","x-component-props":{},properties:{grid:{type:"void","x-component":"Grid","x-initializer":"mobilePage:addBlock","x-component-props":{showDivider:!1}}}},ek=t("721"),eS=t("467"),eE=t.n(eS);function eP(e,n,t,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){t(e);return}l.done?n(c):Promise.resolve(c).then(r,o)}function ej(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var eC=function(){var e,n,t=(0,l.useDesignable)().dn,r=(0,w.useFieldSchema)(),o=(0,w.useField)();return{onUpdateComponentProps:(0,eh.useMemoizedFn)((n=(e=function(e){var n;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(a){switch(a.label){case 0:return eE().set(r,"x-component-props",e),o.componentProps=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){ej(e,n,t[n])})}return e}({},o.componentProps,e),[4,t.emit("patch",{schema:(ej(n={},"x-uid",r["x-uid"]),ej(n,"x-component-props",r["x-component-props"]),ej(n,"x-server-hooks",[{type:"onSelfSave",method:"extractTextToLocale"}]),n)})];case 1:return a.sent(),[4,t.refresh()];case 2:return a.sent(),[2]}})},function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){eP(a,r,o,i,l,"next",e)}function l(e){eP(a,r,o,i,l,"throw",e)}i(void 0)})}),function(e){return n.apply(this,arguments)}))}},ez={properties:{name:{type:"string",title:(0,f.Ul)("Menu name"),required:!0,"x-component":"Input","x-decorator":"FormItem"},icon:{"x-decorator":"FormItem","x-component":"IconPicker",title:(0,f.Ul)("Icon"),"x-component-props":{}}}};function eI(){var e,n,t=(e=["\n          width: 100%;\n          background: var(--adm-color-background);\n          > .adm-list-item {\n            background: inherit;\n          }\n        "],!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return eI=function(){return t},t}var eM=function(e){var n,t,r=e.icon,o=e.name,a=(0,l.useDesigner)(),i=(0,u.useNavigate)(),c=(0,u.useLocation)(),d=(0,w.useFieldSchema)(),m=(0,l.useCompile)(),p=(0,u.useParams)();return s().createElement(l.SortableItem,{className:(0,l.cx)("nb-mobile-menu-item",(0,l.css)(eI()))},s().createElement(ee.Item,(n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}({arrow:!0,clickable:!0},e),t=(t={prefix:s().createElement(l.Icon,{type:r}),onClick:function(){var e=c.pathname.endsWith("/")?c.pathname.slice(0,-1):c.pathname;i(p.name?"/mobile/".concat(d["x-uid"]):"".concat(e,"/").concat(d["x-uid"]))}},t),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}),n),m(o)),s().createElement(a,null))};eM.Designer=function(){var e=(0,f.$G)().t,n=eC().onUpdateComponentProps,t=(0,w.useField)();return s().createElement(l.GeneralSchemaDesigner,null,s().createElement(l.SchemaSettingsModalItem,{title:e("Edit menu info"),initialValues:t.componentProps,schema:ez,onSubmit:n}),s().createElement(l.SchemaSettingsRemove,{key:"remove",removeParentsIfNoChildren:!0,confirm:{title:e("Delete menu item?")},breakRemoveOn:{"x-component":"MMenu"}}))};function e$(){var e,n,t=(e=["\n      --adm-color-primary: ",";\n      --adm-color-primary-hover: ",";\n      --adm-color-primary-active: ",";\n      --padding-left: ","px;\n      --adm-color-background: ",";\n      --adm-color-border: ",";\n\n      background: ",";\n      width: 100%;\n      margin-bottom: var(--nb-spacing);\n    "],!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return e$=function(){return t},t}var eB=(0,l.createStyles)(function(e){var n=e.token;return{mobileMenu:(0,e.css)(e$(),n.colorPrimary,n.colorPrimaryHover,n.colorPrimaryActive,n.paddingSM,n.colorBgContainer,n.colorBorder,n.colorBgContainer)}}),eN=function(e){var n=eB().styles,t=(0,l.useDesigner)(),r=(0,w.useFieldSchema)(),o=(0,l.useDesignable)(),a=o.insertBeforeEnd,i=o.designable,c=(0,f.$G)().t;return s().createElement(l.SortableItem,{className:(0,l.cx)("nb-mobile-menu",n.mobileMenu)},s().createElement(ee,null,i&&s().createElement(ee.Item,null,s().createElement(t,null)),s().createElement(l.DndContext,null,s().createElement(l.SchemaComponent,{onlyRenderProperties:!0,schema:r})),i?s().createElement(ee.Item,null,s().createElement(l.SchemaInitializerActionModal,{buttonText:c("Add menu item"),title:c("Add menu item"),schema:ez,onSubmit:function(e){return a({type:"void",title:e.name,"x-component":"MMenu.Item","x-component-props":e,"x-designer":"MMenu.Item.Designer",properties:{page:eO}})}})):null))};eN.Item=eM,eN.Designer=function(e){var n=(0,f.$G)().t,t=(0,w.useFieldSchema)(),r=(0,l.useDesignable)().dn,o=(0,w.useField)();return s().createElement(l.SchemaSettingsDropdown,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}({title:s().createElement(ek.Button,{style:{borderColor:"var(--colorSettings)",color:"var(--colorSettings)"},icon:s().createElement(g.MenuOutlined,null),type:"dashed"},n("Menu configuration"))},{dn:r,field:o,fieldSchema:t}),s().createElement(l.SchemaSettingsRemove,{key:"remove",removeParentsIfNoChildren:!0,confirm:{title:n("Delete menu block")},breakRemoveOn:{"x-component":"Grid"}}))};var eD=t("875"),eT=function(e,n){return e.reduceProperties(function(e,t){return e||t["x-component"]===n&&t})},eF=["Grid","Grid.Row"],eA=["Grid.Col"],eR=function(e,n){if(!e)return 0;var t=0;return(eA.includes(e["x-component"])&&(t+=1),"number"==typeof n&&t>=n)?t:(eF.includes(e["x-component"])&&e.mapProperties(function(e){t+=eR(e,n)}),t)};function e_(e,n,t,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){t(e);return}l.done?n(c):Promise.resolve(c).then(r,o)}function eG(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function eL(e,n){return!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function eZ(){var e=eL(["\n      --adm-color-primary: ",";\n\n      & > .general-schema-designer > .general-schema-designer-icons {\n        right: unset;\n        left: 2px;\n      }\n      background: var(--nb-box-bg);\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      overflow-y: scroll;\n      position: initial !important;\n    "]);return eZ=function(){return e},e}function eq(){var e=eL(["\n      & > .general-schema-designer {\n        --nb-designer-top: ","px;\n      }\n      position: absolute;\n      background: ",";\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      z-index: 1000;\n    "]);return eq=function(){return e},e}var eU=(0,l.createStyles)(function(e){var n=e.token,t=e.css;return{mobileContainer:t(eZ(),n.colorPrimary),tabBar:t(eq(),n.marginMD,n.colorBgContainer)}}),eH=function(e,n){return e.reduceProperties(function(e,t){return e?e:"MTabBar"===t["x-component"]?eH(t,n):"MTabBar.Item"===t["x-component"]&&n===t["x-uid"]?t:void 0})},eW=function(){var e=(0,u.useParams)().name,n=(0,w.useFieldSchema)();if(!e)return s().createElement(s().Fragment,null);var t=eH(n.properties.tabBar,e.replace("tab_",""));return t?s().createElement(l.SchemaComponent,{schema:t}):s().createElement(u.Navigate,{replace:!0,to:"../"})},eV=function(e){var n,t,r=eU().styles,o=(0,l.useToken)().token,a=(0,l.useDesigner)(),i=(0,w.useFieldSchema)(),d=(0,u.useNavigate)(),m=(0,u.useParams)(),p=(0,u.useLocation)(),f=!1!==(0,w.useField)().componentProps.tabBarEnabled,b=null==i?void 0:null===(n=i.properties)||void 0===n?void 0:n.tabBar,v=(null==b?void 0:b.properties)?Object.keys(b.properties)[0]:null,h=null;return v&&(h=null==b?void 0:null===(t=b.properties[v])||void 0===t?void 0:t["x-uid"]),(0,c.useEffect)(function(){if(h&&!m.name){var e=p.pathname.endsWith("/")?p.pathname.slice(0,-1):p.pathname;d("".concat(e,"/tab_").concat(h),{replace:!0})}},[p.pathname,d,m.name,h]),s().createElement(l.SortableItem,{eid:"nb-mobile-scroll-wrapper",className:(0,l.cx)("nb-mobile-container",r.mobileContainer)},s().createElement(a,null),s().createElement("div",{style:{paddingBottom:h?2*o.paddingLG:0},className:"nb-mobile-container-content"},h?s().createElement(eW,null):s().createElement(l.SchemaComponent,{filterProperties:function(e){return"MTabBar"!==e["x-component"]},schema:i})),f&&s().createElement("div",{className:(0,l.cx)("nb-mobile-container-tab-bar",r.tabBar)},s().createElement(l.SchemaComponent,{onlyRenderProperties:!0,filterProperties:function(e){return"MTabBar"===e["x-component"]},schema:i})))};eV.Designer=function(){var e,n,t=(0,f.$G)().t,r=(0,w.useFieldSchema)(),o=eC().onUpdateComponentProps,a=(0,w.useField)(),i=(0,l.useDesignable)().dn,c=(0,u.useNavigate)(),d=eT(r,"MTabBar"),m=d&&!1!==a.componentProps.tabBarEnabled;return s().createElement(l.SchemaSettingsDropdown,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){eG(e,n,t[n])})}return e}({title:s().createElement(ek.Button,{style:{borderColor:"var(--colorSettings)",color:"var(--colorSettings)",width:"100%"},icon:s().createElement(g.MenuOutlined,null),type:"dashed"},t("App level Configuration"))},{dn:i,field:a,fieldSchema:r}),s().createElement(l.SchemaSettingsSwitchItem,{checked:m,title:t("Enable TabBar"),onChange:(n=(e=function(e){var n;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(t){switch(t.label){case 0:if(!e||d)return[3,3];return n=eT(r,"MPage"),[4,i.remove(n)];case 1:return t.sent(),[4,i.insertBeforeEnd({type:"void","x-component":"MTabBar","x-component-props":{},name:"tabBar",properties:eG({},(0,eD.uid)(),{type:"void","x-component":"MTabBar.Item","x-designer":"MTabBar.Item.Designer","x-component-props":{icon:"HomeOutlined",title:(0,f.Ul)("Untitled")},properties:{page:n.toJSON()}})})];case 2:t.sent(),t.label=3;case 3:return[4,o({tabBarEnabled:e})];case 4:return t.sent(),!1===e&&c("../"),[2]}})},function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){e_(a,r,o,i,l,"next",e)}function l(e){e_(a,r,o,i,l,"throw",e)}i(void 0)})}),function(e){return n.apply(this,arguments)})}))},eV.displayName="MContainer";var eK={properties:{title:{type:"string",title:"{{ t('Title') }}",required:!0,"x-component":"Input","x-decorator":"FormItem"},icon:{required:!0,"x-decorator":"FormItem","x-component":"IconPicker",title:"{{ t('Icon') }}","x-component-props":{}}}};function eX(){var e,n,t=(e=["\n          position: absolute !important;\n          width: 100%;\n          height: 100%;\n          top: 0;\n          left: 0;\n          padding-top: 5px;\n        "],!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return eX=function(){return t},t}var eJ=function(){var e=(0,l.useDesigner)();return s().createElement(l.SortableItem,{className:(0,l.cx)("nb-mobile-tab-bar-item",(0,l.css)(eX()))},s().createElement(e,null))};function eY(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}eJ.Designer=function(){var e=(0,f.$G)().t,n=(0,w.useFieldSchema)(),t=eC().onUpdateComponentProps,r=(0,w.useField)(),o=Object.keys(n.parent.properties).length;return s().createElement(l.GeneralSchemaDesigner,null,s().createElement(l.SchemaSettingsModalItem,{title:e("Edit info"),initialValues:r.componentProps,schema:eK,onSubmit:t}),o>1?s().createElement(l.SchemaSettingsRemove,{key:"remove",removeParentsIfNoChildren:!0,confirm:{title:e("Delete tab item?")},breakRemoveOn:{"x-component":"MTabBar"}}):null)};function eQ(e,n){return!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function e0(){var e=eQ(["\n          position: relative;\n          width: 100%;\n          display: flex;\n          align-items: center;\n        "]);return e0=function(){return e},e}function e1(){var e=eQ(["\n            width: 100%;\n          "]);return e1=function(){return e},e}function e2(){var e=eQ(["\n                .adm-tab-bar-item-icon {\n                  height: auto;\n                }\n              "]);return e2=function(){return e},e}var e3=function(e){var n=(0,w.useFieldSchema)(),t=(0,l.useDesignable)().designable,r=(0,f.$G)().t,o=(0,l.useDesignable)().insertBeforeEnd,a=(0,u.useNavigate)(),i=(0,u.useParams)(),d=(0,l.useCompile)(),m=(0,c.useCallback)(function(e){return o({type:"void","x-component":"MTabBar.Item","x-component-props":e,"x-designer":"MTabBar.Item.Designer",properties:eY({},(0,eD.uid)(),eO),"x-server-hooks":[{type:"onSelfSave",method:"extractTextToLocale"}]})},[]);return s().createElement(l.SortableItem,{className:(0,l.cx)("nb-mobile-tab-bar",(0,l.css)(e0()))},s().createElement(l.DndContext,null,s().createElement(ew,{activeKey:i.name,onChange:function(e){if("add-tab"!==e)a("/mobile/".concat(e))},safeArea:!0,className:(0,l.cx)((0,l.css)(e1()))},n.mapProperties(function(e,n){var t,o,a=e["x-component-props"];return s().createElement(ew.Item,(t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){eY(e,n,t[n])})}return e}({},a),o=(o={key:"tab_".concat(e["x-uid"]),title:s().createElement(s().Fragment,null,r(d(a.title)),s().createElement(l.SchemaComponent,{schema:e,name:n})),icon:a.icon?s().createElement(l.Icon,{type:a.icon}):void 0},o),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}),t))}),t&&(!n.properties||Object.keys(n.properties).length<5)?s().createElement(ew.Item,{className:(0,l.css)(e2()),icon:s().createElement(l.SchemaInitializerActionModal,{title:r("Add tab"),onSubmit:m,schema:eK}),key:"add-tab"}):null)))};function e5(e,n,t,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){t(e);return}l.done?n(c):Promise.resolve(c).then(r,o)}function e6(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){e5(a,r,o,i,l,"next",e)}function l(e){e5(a,r,o,i,l,"throw",e)}i(void 0)})}}e3.Item=eJ,e3.displayName="MTabBar";function e4(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}function e7(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function e8(e,n){return!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function e9(){var e=e8(["\n      #nb-position-container > & {\n        height: ","px;\n        border-top: 1px solid var(--nb-box-bg);\n        margin-bottom: 0px !important;\n        padding: 0 var(--nb-spacing);\n        align-items: center;\n        overflow-x: auto;\n        background: ",";\n        z-index: 100;\n      }\n    "]);return e9=function(){return e},e}function ne(){var e=e8(["\n      background: var(--nb-box-bg);\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      // overflow-x: hidden;\n      // overflow-y: auto;\n      padding-bottom: var(--nb-spacing);\n    "]);return ne=function(){return e},e}function nn(){var e=e8(["\n      & > .ant-tabs > .ant-tabs-nav {\n        .ant-tabs-tab {\n          margin: 0 !important;\n          padding: 0 ","px !important;\n        }\n        background: ",";\n      }\n      display: flex;\n      flex-direction: column;\n    "]);return nn=function(){return e},e}var nt=(0,l.createStyles)(function(e){var n=e.token,t=e.css;return{globalActionCSS:t(e9(),n.sizeXXL,n.colorBgContainer),mobilePage:t(ne()),mobilePageHeader:t(nn(),n.paddingContentHorizontal,n.colorBgContainer)}});function nr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function no(){var e,n,t=(e=["\n            & > .ant-nb-grid {\n              margin-top: 14px;\n            }\n          "],!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return no=function(){return t},t}var na=function(e){var n,t,r,o,a,i,d,m,p,f=nt().styles,b=(0,l.useDesigner)(),v=(0,w.useField)(),h=(0,w.useFieldSchema)();var g=(n=(0,u.useSearchParams)(),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(t=o.next()).done)&&(a.push(t.value),!n||a.length!==n);i=!0);}catch(e){l=!0,r=e}finally{try{!i&&null!=o.return&&o.return()}finally{if(l)throw r}}return a}}(n,2)||function(e,n){if(e){if("string"==typeof e)return nr(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nr(e,n)}}(n,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=g[0],x=g[1],O=null===(i=h.properties)||void 0===i?void 0:i.tabs,k=!1!==v.componentProps.headerEnabled,S=!1!==v.componentProps.tabsEnabled&&O,E=eT(h,"MPage");if(!S&&!E&&O){var P=Object.values(O.properties||{}).sort(function(e,n){return e["x-index"]-n["x-index"]});0!==P.length&&(E=P[0])}var j=h.root===h.parent,C=!1;if(!O&&h.properties)C=1===eR(h.properties.grid,2);else if(y.has("tab")&&(null==O?void 0:null===(d=O.properties)||void 0===d?void 0:d[y.get("tab")]))C=1===eR(null===(p=O.properties[y.get("tab")])||void 0===p?void 0:null===(m=p.properties)||void 0===m?void 0:m.grid,2);else if(null==O?void 0:O.properties){var z=Object.values(O.properties).sort(function(e,n){return e["x-index"]-n["x-index"]})[0];z&&setTimeout(function(){x([["tab",z.name.toString()]],{replace:!0})})}var I=(0,c.useCallback)(function(e){x([["tab",e]],{replace:!0})},[x]),M=(0,c.useCallback)(function(e){return s().createElement(l.TabsContextProvider,null,C?s().createElement(l.ActionBarProvider,{container:(void 0===e.active||e.active)&&j?document.getElementById("nb-position-container"):null,forceProps:{layout:"one-column",className:f.globalActionCSS}},e.children):e.children)},[C,j,f.globalActionCSS]);return s().createElement(l.SortableItem,{eid:"nb-mobile-scroll-wrapper",className:(0,l.cx)("nb-mobile-page",f.mobilePage)},s().createElement(b,null==h?void 0:h["x-designer-props"]),s().createElement("div",{style:{paddingBottom:O?null:"var(--nb-spacing)"},className:(0,l.cx)("nb-mobile-page-header",f.mobilePageHeader,(r={},o=(0,l.css)(no()),a=O&&!S||!O,o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r))},k&&s().createElement(l.NocoBaseRecursionField,{schema:h,filterProperties:function(e){return"MHeader"===e["x-component"]}}),s().createElement(l.TabsContextProvider,{PaneRoot:M,activeKey:y.get("tab"),onChange:I},s().createElement(l.NocoBaseRecursionField,{schema:S?h:E,filterProperties:function(e){return"Tabs"===e["x-component"]||"Grid"===e["x-component"]||"Grid.Row"===e["x-component"]}}))),s().createElement(M,null,!O&&s().createElement(l.NocoBaseRecursionField,{schema:h,filterProperties:function(e){return"MHeader"!==e["x-component"]}})))};na.Designer=function(e){var n,t,r,o,a,i,c=e.showBack,u=(0,f.$G)().t,d=(0,w.useField)(),m=(0,w.useFieldSchema)(),p=(0,l.useDesignable)().dn,b=eC().onUpdateComponentProps,v=null==m?void 0:null===(r=m.properties)||void 0===r?void 0:r.header,h=!!v&&(null===(o=d.componentProps)||void 0===o?void 0:o.headerEnabled)!==!1,y=null==m?void 0:null===(a=m.properties)||void 0===a?void 0:a.tabs,x=!!y&&(null===(i=d.componentProps)||void 0===i?void 0:i.tabsEnabled)!==!1;return s().createElement(l.SchemaSettingsDropdown,e4({title:s().createElement(ek.Button,{style:{borderColor:"var(--colorSettings)",color:"var(--colorSettings)",width:"100%"},icon:s().createElement(g.MenuOutlined,null),type:"dashed"},u("Page configuration"))},{dn:p,field:d,fieldSchema:m}),s().createElement(l.SchemaSettingsSwitchItem,{checked:h,title:u("Enable Header"),onChange:(n=e6(function(e){var n;return e7(this,function(t){switch(t.label){case 0:if(v)return[3,2];return[4,p.insertAfterBegin({type:"void",name:"header","x-component":"MHeader","x-designer":"MHeader.Designer","x-component-props":{title:null===(n=m.parent["x-component-props"])||void 0===n?void 0:n.name,showBack:c}})];case 1:t.sent(),t.label=2;case 2:return[4,b({headerEnabled:e})];case 3:return t.sent(),[2]}})}),function(e){return n.apply(this,arguments)})}),s().createElement(l.SchemaSettingsSwitchItem,{checked:x,title:u("Enable Tabs"),onChange:(t=e6(function(e){var n;return e7(this,function(t){switch(t.label){case 0:if(y)return[3,2];return n=eT(m,"Grid"),[4,p.remove(n)];case 1:var r,o;return t.sent(),[2,p.insertBeforeEnd({type:"void",name:"tabs","x-component":"Tabs","x-component-props":{},"x-initializer":"popup:addTab","x-initializer-props":{gridInitializer:"mobilePage:addBlock"},properties:{tab1:{type:"void",title:(0,f.Ul)("Untitled"),"x-component":"Tabs.TabPane","x-designer":"Tabs.Designer","x-component-props":{},properties:{grid:(r=e4({},n),o=(o={"x-uid":(0,eD.uid)()},o),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}),r)}}}})];case 2:return[4,b({tabsEnabled:e})];case 3:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)})}))},na.displayName="MPage";var ni=t("632"),nl=function(e){var n=(0,w.useField)(),t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}({},e,null==n?void 0:n.componentProps),r=t.title,o=void 0===r?(0,f.Ul)("Untitled"):r,a=t.showBack,i=(0,l.useDesigner)(),d=(0,l.useCompile)()(o),m=(0,u.useNavigate)(),p=(0,l.useDocumentTitle)().setTitle,b=(0,l.useToken)().token;(0,c.useEffect)(function(){p(d)},[d,p]);var v=(0,c.useMemo)(function(){return{width:"100%",background:b.colorBgContainer}},[b.colorBgContainer]);return s().createElement(l.SortableItem,{className:(0,l.cx)("nb-mobile-header"),style:v},s().createElement(ea,{backArrow:void 0!==a&&a,onBack:function(){return m(-1)}},d),s().createElement(i,null))};nl.Designer=function(){var e=(0,w.useField)(),n=eC().onUpdateComponentProps,t=(0,f.$G)().t;return s().createElement(l.GeneralSchemaDesigner,{draggable:!1},s().createElement(l.SchemaSettingsModalItem,{title:t("Edit info"),components:{Switch:ni.Switch},initialValues:e.componentProps,schema:{properties:{title:{type:"string",title:t("Title"),required:!0,"x-component":"Input","x-decorator":"FormItem"},showBack:{type:"boolean",title:t("Display back button"),"x-component":"Switch","x-decorator":"FormItem"}}},onSubmit:n}))};function nc(){var e,n,t=(e=["\n          margin-bottom: var(--nb-spacing);\n        "],!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return nc=function(){return t},t}function ns(){var e=(0,l.useSchemaSettingsRender)("userCenterSettings").render;return s().createElement("div",{style:{display:"inline-block"}},e({mode:"inline",style:{width:"100%"}}))}var nu=function(){var e=(0,l.useDesigner)();return s().createElement(l.SortableItem,{className:(0,l.cx)("nb-mobile-setting",(0,l.css)(nc()))},s().createElement(e,null),s().createElement(ns,null))};function nd(e,n,t,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){t(e);return}l.done?n(c):Promise.resolve(c).then(r,o)}nu.Designer=function(){var e=(0,f.$G)().t;return s().createElement(l.GeneralSchemaDesigner,null,s().createElement(l.SchemaSettingsRemove,{key:"remove",removeParentsIfNoChildren:!0,confirm:{title:e("Delete settings block")},breakRemoveOn:{"x-component":"Grid"}}))};var nm=function(){var e,n=(0,l.useSchemaInitializerItem)(),t=(0,l.useSchemaInitializer)().insert;return s().createElement(l.SchemaInitializerItem,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}({icon:s().createElement(g.SettingOutlined,null),onClick:(e=function(){return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){return t({type:"void","x-component":"MSettings","x-designer":"MSettings.Designer","x-component-props":{}}),[2]})},function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){nd(a,r,o,i,l,"next",e)}function l(e){nd(a,r,o,i,l,"throw",e)}i(void 0)})})},n))},np=t("148");function nf(){var e,n,t=(e=["\n  padding: 0 var(--nb-spacing);\n  & > .nb-action-bar {\n    padding: unset !important;\n    background: unset !important;\n  }\n"],!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return nf=function(){return t},t}var nb=(0,l.css)(nf()),nv=function(){return{className:nb}},nh={xs:1,sm:1,md:1,lg:1,xl:1,xxl:1},ng=function(){return{columnCount:(0,np.jt)()?nh:null,pagination:{simple:!0}}},ny=function(e){return s().createElement(l.SchemaComponentOptions,{components:{MMenuBlockInitializer:x,MSettingsBlockInitializer:nm,MContainer:eV,MMenu:eN,MTabBar:e3,MPage:na,MHeader:nl,MSettings:nu},scope:{useGridCardBlockItemProps:nv,useGridCardBlockProps:ng}},e.children)};function nx(){var e,n,t=(e=["\n        position: absolute;\n        top: -40px;\n        right: 0;\n      "],!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return nx=function(){return t},t}var nw=function(){var e=(0,f.$G)().t,n=(0,l.useApp)();return s().createElement("div",{className:(0,l.css)(nx())},s().createElement(ek.Button,{type:"dashed",onClick:function(){window.open(n.getRouteUrl("/mobile"))},icon:s().createElement(g.LinkOutlined,null)},e("Preview")))};function nO(e,n){return!n&&(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function nk(){var e=nO(["\n  --nb-spacing: 14px;\n"]);return nk=function(){return e},e}function nS(){var e=nO([""]);return nS=function(){return e},e}function nE(){var e=nO(["\n  --nb-designer-top: 2px;\n  --nb-designer-right: 2px;\n  .nb-sortable-designer:hover {\n    position: relative;\n    > .general-schema-designer {\n      display: block;\n    }\n  }\n  .general-schema-designer {\n    position: absolute;\n    z-index: 999;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: none;\n    border: 0;\n    pointer-events: none;\n    > .general-schema-designer-icons {\n      position: absolute;\n      top: var(--nb-designer-top);\n      right: var(--nb-designer-right);\n      line-height: 16px;\n      pointer-events: all;\n      .ant-space-item {\n        background-color: var(--colorSettings);\n        color: #fff;\n        line-height: 16px;\n        width: 16px;\n        padding-left: 1px;\n        align-self: stretch;\n      }\n    }\n  }\n"]);return nE=function(){return e},e}function nP(){var e=nO(["\n    position: absolute !important;\n  "]);return nP=function(){return e},e}function nj(){var e=nO(["\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                height: 100%;\n                position: relative;\n                overflow: hidden;\n              "]);return nj=function(){return e},e}var nC=(0,l.css)(nk()),nz=(0,l.css)(nS()),nI=(0,l.css)(nE()),nM={getContainer:".nb-mobile-application",width:"90%",style:{position:"absolute"}};var n$=(a=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r,o,a;r=e,o=n,a=t[n],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})}return e}({},nM),i=(i={style:{maxWidth:"calc(100% - 16px)"},maskStyle:{position:"absolute"},wrapClassName:(0,l.css)(nP())},i),Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))}),a),nB=function(e){var n="nocobase-mobile-container",t=(0,u.useParams)(),r=(0,np.jt)(),o=(0,c.useMemo)(function(){return r?s().Fragment:l.AdminProvider},[r]);return(0,l.useViewport)(),s().createElement(o,null,s().createElement(ny,null,s().createElement(nw,null),s().createElement(l.ActionContextProvider,{modalProps:n$,drawerProps:nM},s().createElement("div",{className:(0,l.cx)("nb-mobile-application",nI,nC,nz,(0,l.css)(nj()))},t.name&&!t.name.startsWith("tab_")?s().createElement(u.Outlet,null):s().createElement(l.RemoteSchemaComponent,{key:n,uid:n},e.children),s().createElement("div",{id:"nb-position-container"})))))},nN=t(581);function nD(e,n,t,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){t(e);return}l.done?n(c):Promise.resolve(c).then(r,o)}function nT(e,n,t){return(nT=nG()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&nR(o,t.prototype),o}).apply(null,arguments)}function nF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nA(e){return(nA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nR(e,n){return(nR=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function n_(e){var n="function"==typeof Map?new Map:void 0;return(n_=function(e){var t;if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return nT(e,arguments,nA(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),nR(r,e)})(e)}function nG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nG=function(){return!!e})()}var nL=(0,l.lazy)(function(){return nN("imported_-1cqm6vo_component",t.e("949").then(t.bind(t,382)))},"AppConfiguration","InterfaceConfiguration"),nZ=nL.AppConfiguration,nq=nL.InterfaceConfiguration,nU=function(e){var n,t,r;function o(){var e,n,t,r,a,i,l;return!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,o),n=this,t=o,r=arguments,t=nA(t),e=function(e,n){return n&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(n)||"function"==typeof n)?n:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,nG()?Reflect.construct(t,r||[],nA(n).constructor):t.apply(n,r)),l=void 0,(i="mobileRouter")in(a=e)?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,e}return!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&nR(e,n)}(o,e),n=o,t=[{key:"load",value:function(){var e,n=this;return(e=function(){return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(e){return n.setMobileRouter(),n.addRoutes(),n.addSettings(),n.app.use(p),n.app.schemaInitializerManager.add(v),n.app.schemaInitializerManager.add(h),[2]})},function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){nD(a,r,o,i,l,"next",e)}function l(e){nD(a,r,o,i,l,"throw",e)}i(void 0)})})()}},{key:"addSettings",value:function(){this.app.pluginSettingsManager.add(f.A7,{title:'{{t("Mobile Client-side(Deprecated)", { ns: "'.concat(f.A7,'" })}}'),icon:"MobileOutlined",Component:function(){return s().createElement(u.Outlet,null)}}),this.app.pluginSettingsManager.add("".concat(f.A7,".interface"),{title:'{{t("Interface Configuration", { ns: "'.concat(f.A7,'" })}}'),Component:nq,sort:1}),this.app.pluginSettingsManager.add("".concat(f.A7,".app"),{title:'{{t("App Configuration", { ns: "'.concat(f.A7,'" })}}'),Component:nZ,sort:2})}},{key:"setMobileRouter",value:function(){var e=(0,l.createRouterManager)({type:"hash"},this.app);e.add("root",{path:"/",element:s().createElement(u.Navigate,{replace:!0,to:"/mobile"})}),e.add("mobile",{path:"/mobile",element:s().createElement(nB,null)}),e.add("mobile.page",{path:"/mobile/:name",element:s().createElement(l.RouteSchemaComponent,null)}),this.mobileRouter=e}},{key:"getMobileRouterComponent",value:function(){return this.mobileRouter.getRouterComponent()}},{key:"addRoutes",value:function(){this.app.router.add("mobile",{path:"/mobile",element:s().createElement(nB,null)}),this.app.router.add("mobile.page",{path:"/mobile/:name",Component:"RouteSchemaComponent"})}}],nF(n.prototype,t),o}(n_(l.Plugin)),nH=nU},148:function(e,n,t){"use strict";t.d(n,{_m:function(){return i},jt:function(){return l}});var r=t(156),o=t.n(r),a=o().createContext(null),i=function(e){return o().createElement(a.Provider,{value:{interface:!0}},e.children)},l=function(){return(0,r.useContext)(a)}},573:function(e,n,t){"use strict";t.d(n,{$G:function(){return i},A7:function(){return o},Ul:function(){return a}}),t(772);var r=t(238),o="mobile-client";function a(e){return"{{t('".concat(e,"', { ns: '").concat(o,"', nsMode: 'fallback' })}}")}function i(){return(0,r.useTranslation)([o,"client"],{nsMode:"fallback"})}},652:function(e,n,t){"use strict";var r=t(589),o=t.n(r),a=t(758),i=t.n(a)()(o());i.push([e.id,".adm-badge-wrapper {\n  display: inline-block;\n  position: relative;\n}\n.adm-badge {\n  display: -webkit-inline-box;\n  display: -webkit-inline-flex;\n  display: -moz-inline-box;\n  display: inline-flex;\n  vertical-align: middle;\n  box-sizing: content-box;\n  border-radius: 100px;\n  background-color: var(--color);\n  --right: 0;\n  --top: 0;\n  --color: var(--adm-badge-color, var(--adm-color-highlight));\n}\n.adm-badge-content {\n  color: var(--adm-color-text-light-solid);\n  box-sizing: border-box;\n  min-width: 8px;\n  padding: 1px 4px;\n  font-size: var(--adm-font-size-1);\n  line-height: 12px;\n  white-space: nowrap;\n  font-weight: normal;\n  text-align: center;\n}\n.adm-badge-fixed {\n  position: absolute;\n  right: var(--right);\n  top: var(--top);\n  transform: translate(50%, -50%);\n}\n.adm-badge-dot {\n  min-width: 10px;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n}\n.adm-badge-bordered {\n  border: solid 1px var(--adm-color-text-light-solid);\n}\n",""]),n.Z=i},59:function(e,n,t){"use strict";var r=t(589),o=t.n(r),a=t(758),i=t.n(a)()(o());i.push([e.id,".adm-list {\n  --header-font-size: var(--adm-font-size-7);\n  --prefix-width: 'auto';\n  --prefix-padding-right: 12px;\n  --align-items: center;\n  --active-background-color: var(--adm-color-border);\n  --border-inner: solid 1px var(--adm-color-border);\n  --border-top: solid 1px var(--adm-color-border);\n  --border-bottom: solid 1px var(--adm-color-border);\n  --padding-left: 12px;\n  --padding-right: 12px;\n  --font-size: var(--adm-font-size-9);\n  --extra-max-width: 70%;\n}\n.adm-list-header {\n  color: var(--adm-color-weak);\n  font-size: var(--header-font-size);\n  padding: 8px var(--padding-right) 8px var(--padding-left);\n}\n.adm-list-body {\n  background-color: var(--adm-color-background);\n  overflow: hidden;\n  font-size: var(--font-size);\n}\n.adm-list-body-inner {\n  margin-top: -1px;\n}\n.adm-list-default .adm-list-body {\n  border-top: var(--border-top);\n  border-bottom: var(--border-bottom);\n}\n.adm-list-card {\n  margin: 12px;\n}\n.adm-list-card .adm-list-body {\n  border-radius: 8px;\n}\n.adm-list-card .adm-list-header {\n  padding-left: 0;\n}\n.adm-list-item {\n  display: block;\n  padding-left: var(--padding-left);\n  position: relative;\n  background-color: var(--adm-color-background);\n  line-height: 1.5;\n}\n.adm-list-item-title,\n.adm-list-item-description {\n  color: var(--adm-color-weak);\n  font-size: var(--adm-font-size-main);\n}\n.adm-list-item-content {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  align-items: var(--align-items);\n  justify-content: flex-start;\n  border-top: var(--border-inner);\n  padding-right: var(--padding-right);\n}\n.adm-list-item-content-prefix {\n  width: var(--prefix-width);\n  flex: none;\n  padding-right: var(--prefix-padding-right);\n}\n.adm-list-item-content-main {\n  flex: auto;\n  padding: 12px 0;\n}\n.adm-list-item-content-extra {\n  flex: none;\n  padding-left: 12px;\n  font-size: var(--adm-font-size-7);\n  color: var(--adm-color-weak);\n  max-width: var(--extra-max-width);\n}\n.adm-list-item-content-arrow {\n  flex: none;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  align-items: center;\n  margin-left: 4px;\n  color: var(--adm-color-light);\n  font-size: 19px;\n}\n.adm-list-item-disabled {\n  cursor: not-allowed;\n}\n.adm-list-item-disabled.adm-list-item-disabled > .adm-list-item-content > * {\n  opacity: 0.4;\n  pointer-events: none;\n}\na.adm-list-item:active:not(.adm-list-item-disabled) {\n  background-color: var(--active-background-color);\n}\na.adm-list-item:active:not(.adm-list-item-disabled)::after {\n  content: ' ';\n  display: block;\n  position: absolute;\n  width: 100%;\n  bottom: -1px;\n  left: 0;\n  border-bottom: var(--border-inner);\n}\n",""]),n.Z=i},266:function(e,n,t){"use strict";var r=t(589),o=t.n(r),a=t(758),i=t.n(a)()(o());i.push([e.id,".adm-nav-bar {\n  --height: 45px;\n  --border-bottom: none;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  align-items: center;\n  height: var(--height);\n  border-bottom: var(--border-bottom);\n  padding: 0 12px;\n  white-space: nowrap;\n}\n.adm-nav-bar-left,\n.adm-nav-bar-right {\n  flex: 1;\n}\n.adm-nav-bar-title {\n  flex: auto;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.adm-nav-bar-back {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  align-items: center;\n  margin-right: 16px;\n  padding: 6px 0;\n  cursor: pointer;\n}\n.adm-nav-bar-back-arrow {\n  font-size: 24px;\n  margin-right: 4px;\n}\n.adm-nav-bar-left {\n  font-size: var(--adm-font-size-7);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n.adm-nav-bar-title {\n  justify-content: center;\n  white-space: nowrap;\n  font-size: var(--adm-font-size-10);\n  padding: 0 12px;\n}\n.adm-nav-bar-right {\n  text-align: right;\n}\n",""]),n.Z=i},749:function(e,n,t){"use strict";var r=t(589),o=t.n(r),a=t(758),i=t.n(a)()(o());i.push([e.id,".adm-safe-area {\n  --multiple: var(--adm-safe-area-multiple, 1);\n  display: block;\n  width: 100%;\n}\n.adm-safe-area-position-top {\n  padding-top: -webkit-calc(env(safe-area-inset-top) * var(--multiple));\n  padding-top: -moz-calc(env(safe-area-inset-top) * var(--multiple));\n  padding-top: calc(env(safe-area-inset-top) * var(--multiple));\n}\n.adm-safe-area-position-bottom {\n  padding-bottom: -webkit-calc(env(safe-area-inset-bottom) * var(--multiple));\n  padding-bottom: -moz-calc(env(safe-area-inset-bottom) * var(--multiple));\n  padding-bottom: calc(env(safe-area-inset-bottom) * var(--multiple));\n}\n",""]),n.Z=i},663:function(e,n,t){"use strict";var r=t(589),o=t.n(r),a=t(758),i=t.n(a)()(o());i.push([e.id,".adm-tab-bar-wrap {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  overflow: hidden;\n  min-height: 48px;\n}\n.adm-tab-bar-item {\n  flex: 1;\n  color: var(--adm-color-text-secondary);\n  white-space: nowrap;\n  padding: 4px 8px;\n  width: -moz-min-content;\n  width: -webkit-min-content;\n  width: min-content;\n  position: relative;\n  cursor: pointer;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.adm-tab-bar-item-icon {\n  font-size: 24px;\n  height: 24px;\n  line-height: 1;\n}\n.adm-tab-bar-item-title {\n  font-size: var(--adm-font-size-2);\n  line-height: 15px;\n}\n.adm-tab-bar-item-title-with-icon {\n  margin-top: 2px;\n}\n.adm-tab-bar-item-active {\n  color: var(--adm-color-primary);\n}\n.adm-tab-bar-icon-badge {\n  --top: 6px;\n}\n.adm-tab-bar-title-badge {\n  --right: -2px;\n  --top: -2px;\n}\n",""]),n.Z=i},46:function(e,n,t){"use strict";var r=t(589),o=t.n(r),a=t(758),i=t.n(a)()(o());i.push([e.id,":root {\n  --adm-radius-s: 4px;\n  --adm-radius-m: 8px;\n  --adm-radius-l: 12px;\n  --adm-font-size-1: 9px;\n  --adm-font-size-2: 10px;\n  --adm-font-size-3: 11px;\n  --adm-font-size-4: 12px;\n  --adm-font-size-5: 13px;\n  --adm-font-size-6: 14px;\n  --adm-font-size-7: 15px;\n  --adm-font-size-8: 16px;\n  --adm-font-size-9: 17px;\n  --adm-font-size-10: 18px;\n  --adm-color-primary: #1677ff;\n  --adm-color-success: #00b578;\n  --adm-color-warning: #ff8f1f;\n  --adm-color-danger: #ff3141;\n  --adm-color-yellow: #ff9f18;\n  --adm-color-orange: #ff6430;\n  --adm-color-wathet: #e7f1ff;\n  --adm-color-text: #333333;\n  --adm-color-text-secondary: #666666;\n  --adm-color-weak: #999999;\n  --adm-color-light: #cccccc;\n  --adm-color-border: #eeeeee;\n  --adm-color-background: #ffffff;\n  --adm-color-highlight: var(--adm-color-danger);\n  --adm-color-white: #ffffff;\n  --adm-color-box: #f5f5f5;\n  --adm-color-text-light-solid: var(--adm-color-white);\n  --adm-color-text-dark-solid: #000000;\n  --adm-color-fill-content: var(--adm-color-box);\n  --adm-font-size-main: var(--adm-font-size-5);\n  --adm-font-family: -apple-system, blinkmacsystemfont, 'Helvetica Neue',\n    helvetica, segoe ui, arial, roboto, 'PingFang SC', 'miui',\n    'Hiragino Sans GB', 'Microsoft Yahei', sans-serif;\n  --adm-border-color: var(--adm-color-border);\n}\nhtml[data-prefers-color-scheme='dark'] {\n  --adm-color-primary: #3086ff;\n  --adm-color-success: #34b368;\n  --adm-color-warning: #ffa930;\n  --adm-color-danger: #ff4a58;\n  --adm-color-yellow: #ffa930;\n  --adm-color-orange: #e65a2b;\n  --adm-color-wathet: #0d2543;\n  --adm-color-text: #e6e6e6;\n  --adm-color-text-secondary: #b3b3b3;\n  --adm-color-weak: #808080;\n  --adm-color-light: #4d4d4d;\n  --adm-color-border: #2b2b2b;\n  --adm-color-box: #0a0a0a;\n  --adm-color-background: #1a1a1a;\n  --adm-color-background-body: var(--adm-color-background);\n  --adm-border-color: var(--adm-color-border);\n}\n:root {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\nhtml {\n  background-color: var(--adm-color-background-body);\n}\nbody {\n  color: #333333;\n  color: var(--adm-color-text);\n  font-size: 13px;\n  font-size: var(--adm-font-size-main);\n  font-family: -apple-system, blinkmacsystemfont, 'Helvetica Neue',\n    helvetica, segoe ui, arial, roboto, 'PingFang SC', 'miui',\n    'Hiragino Sans GB', 'Microsoft Yahei', sans-serif;\n  font-family: var(--adm-font-family);\n}\na,\nbutton {\n  cursor: pointer;\n}\na {\n  color: #1677ff;\n  color: var(--adm-color-primary);\n  transition: opacity ease-in-out 0.2s;\n}\na:active {\n  opacity: 0.8;\n}\n.adm-plain-anchor {\n  color: inherit;\n  transition: none;\n}\n.adm-plain-anchor:active {\n  opacity: 1;\n  opacity: initial;\n}\nbody.adm-overflow-hidden {\n  overflow: hidden !important;\n}\ndiv.adm-px-tester {\n  --size: 1;\n  height: -webkit-calc(var(--size) / 2 * 2px);\n  height: -moz-calc(var(--size) / 2 * 2px);\n  height: calc(var(--size) / 2 * 2px);\n  width: 0;\n  position: fixed;\n  left: -100vw;\n  top: -100vh;\n  -webkit-user-select: none;\n          -moz-user-select: none;\n       user-select: none;\n  pointer-events: none;\n}\n",""]),n.Z=i},758:function(e){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(i[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);if(!r||!i[u[0]])void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]&&(u[1]="@media ".concat(u[2]," {").concat(u[1],"}")),u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u)}},n}},589:function(e){"use strict";e.exports=function(e){return e[1]}},581:function(e){e.exports=function(e,n){return"undefined"!=typeof __deoptimization_sideEffect__&&__deoptimization_sideEffect__(e,n),n}},278:function(e){"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},a=[],i=0;i<e.length;i++){var l=e[i],c=r.base?l[0]+r.base:l[0],s=o[c]||0,u="".concat(c," ").concat(s);o[c]=s+1;var d=t(u),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)n[d].references++,n[d].updater(m);else{var p=function(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap||n.supports!==e.supports||n.layer!==e.layer)t.update(e=n)}else t.remove()}}(m,r);r.byIndex=i,n.splice(i,0,{identifier:u,updater:p,references:1})}a.push(u)}return a}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=t(a[i]);n[l].references--}for(var c=r(e,o),s=0;s<a.length;s++){var u=t(a[s]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}a=c}}},547:function(e){"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},593:function(e){"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},604:function(e,n,t){"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},391:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){var r,o,a,i,l,c;r=n,o=e,i="",(a=t).supports&&(i+="@supports (".concat(a.supports,") {")),a.media&&(i+="@media ".concat(a.media," {")),(l=void 0!==a.layer)&&(i+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),i+=a.css,l&&(i+="}"),a.media&&(i+="}"),a.supports&&(i+="}"),(c=a.sourceMap)&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),o.styleTagTransform(i,r,o.options)},remove:function(){!function(e){if(null===e.parentNode)return;e.parentNode.removeChild(e)}(n)}}}},784:function(e){"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},482:function(e){"use strict";e.exports=i},632:function(e){"use strict";e.exports=l},505:function(e){"use strict";e.exports=n},875:function(e){"use strict";e.exports=c},772:function(n){"use strict";n.exports=e},416:function(e){"use strict";e.exports=u},721:function(e){"use strict";e.exports=o},467:function(e){"use strict";e.exports=s},156:function(e){"use strict";e.exports=t},238:function(e){"use strict";e.exports=r},128:function(e){"use strict";e.exports=a},527:function(e){!function(){"use strict";var n={}.hasOwnProperty;function t(){for(var e="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(e=r(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return t.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var a in e)n.call(e,a)&&e[a]&&(o=r(o,a));return o}(a)))}return e}function r(e,n){return n?e?e+" "+n:e+n:e}e.exports?(t.default=t,e.exports=t):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}()}},g={};function y(e){var n=g[e];if(void 0!==n)return n.exports;var t=g[e]={id:e,exports:{}};return h[e](t,t.exports,y),t.exports}return y.m=h,y.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return y.d(n,{a:n}),n},y.d=function(e,n){for(var t in n)y.o(n,t)&&!y.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},y.f={},y.e=function(e){return Promise.all(Object.keys(y.f).reduce(function(n,t){return y.f[t](e,n),n},[]))},y.u=function(e){return"815244d155bd198f.js"},y.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),y.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},d={},m="@nocobase/plugin-mobile-client:",y.l=function(e,n,t,r){if(d[e]){d[e].push(n);return}if(void 0!==t){for(var o,a,i=document.getElementsByTagName("script"),l=0;l<i.length;l++){var c=i[l];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==m+t){o=c;break}}}!o&&(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,y.nc&&o.setAttribute("nonce",y.nc),o.setAttribute("data-webpack",m+t),o.src=e),d[e]=[n];var s=function(n,t){o.onerror=o.onload=null,clearTimeout(u);var r=d[e];if(delete d[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(function(e){return e(t)}),n)return n(t)},u=setTimeout(s.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=s.bind(null,o.onerror),o.onload=s.bind(null,o.onload),a&&document.head.appendChild(o)},y.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},y.nc=void 0,y.p=(!(p=window.__nocobase_public_path__||"/").endsWith("/")&&(p+="/"),p+"static/plugins/@nocobase/plugin-mobile-client/dist/client/"),f={909:0},y.f.j=function(e,n){var t=y.o(f,e)?f[e]:void 0;if(0!==t){if(t)n.push(t[2]);else{var r=new Promise(function(n,r){t=f[e]=[n,r]});n.push(t[2]=r);var o=y.p+y.u(e),a=Error();y.l(o,function(n){if(y.o(f,e)&&(0!==(t=f[e])&&(f[e]=void 0),t)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,t[1](a)}},"chunk-"+e,e)}}},b=function(e,n){var t=n[0],r=n[1],o=n[2],a,i,l=0;if(t.some(function(e){return 0!==f[e]})){for(a in r)y.o(r,a)&&(y.m[a]=r[a]);o&&o(y)}for(e&&e(n);l<t.length;l++)i=t[l],y.o(f,i)&&f[i]&&f[i][0](),f[i]=0},(v=self.webpackChunk_nocobase_plugin_mobile_client=self.webpackChunk_nocobase_plugin_mobile_client||[]).forEach(b.bind(null,0)),v.push=b.bind(null,v.push.bind(v)),y("722")}()});